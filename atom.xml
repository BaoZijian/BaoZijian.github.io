<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tecooler&#39;s Blog</title>
  <subtitle>CCIE#48983 | ä¸ƒç‰›äº‘å­˜å‚¨ | æ‰“ç¾½æ¯›çƒå–œæ¬¢å‹¾å¯¹è§’ | æ·¡å£å‘³çš„å°æ¸…æ–°ï¼Œå—œç”œ | å¯¹éº»å°†å’Œä¸‰å›½æ€æœ‰ä¸å¯é€¾è¶Šçš„è®¤çŸ¥éšœç¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.bz1.me/"/>
  <updated>2017-03-08T06:44:38.000Z</updated>
  <id>https://www.bz1.me/</id>
  
  <author>
    <name>Tecooler</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç›´æ’­æ–‡æ¡£æ±‡æ€»</title>
    <link href="https://www.bz1.me/wendang.html"/>
    <id>https://www.bz1.me/wendang.html</id>
    <published>2017-03-08T06:44:38.000Z</published>
    <updated>2017-03-08T06:44:38.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç›´æ’­äº‘ä»·æ ¼é—®é¢˜"><a href="#ç›´æ’­äº‘ä»·æ ¼é—®é¢˜" class="headerlink" title="ç›´æ’­äº‘ä»·æ ¼é—®é¢˜"></a>ç›´æ’­äº‘ä»·æ ¼é—®é¢˜</h1><p>æ‹¨æ‰“ 400-808-9176 è½¬ 2 å·çº¿</p>
<h1 id="ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜"><a href="#ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜" class="headerlink" title="ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜"></a>ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜</h1><h2 id="serverç«¯"><a href="#serverç«¯" class="headerlink" title="serverç«¯"></a>serverç«¯</h2><ul>
<li>æ¨æµé‰´æƒ <a href="https://developer.qiniu.com/pili/kb/seven-cows-live-push-flow-authentication-md" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/seven-cows-live-push-flow-authentication-md</a></li>
<li>å½•åˆ¶è½¬å­˜è®¾ç½®ç”Ÿå‘½å‘¨æœŸ <a href="https://developer.qiniu.com/pili/kb/saveas-call-save-and-set-m3u8-expiration-time" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/saveas-call-save-and-set-m3u8-expiration-time</a></li>
<li>ç›´æ’­æµåˆ é™¤ <a href="https://developer.qiniu.com/pili/kb/live-streaming" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-streaming</a></li>
<li>V1ç‰ˆæœ¬API <a href="https://developer.qiniu.com/pili/kb/api-interface-documents-v1" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/api-interface-documents-v1</a></li>
<li>æŸ¥è¯¢æ¨æµå†å² <a href="https://developer.qiniu.com/pili/kb/server-on-live-playback-history-query" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/server-on-live-playback-history-query</a></li>
<li>å…³äºstreamJson <a href="https://developer.qiniu.com/pili/kb/mix-about-streamjson" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/mix-about-streamjson</a></li>
</ul>
<h2 id="clientç«¯"><a href="#clientç«¯" class="headerlink" title="clientç«¯"></a>clientç«¯</h2><ul>
<li>demo <a href="https://developer.qiniu.com/pili/kb/the-client-ios-and-android-end-flow-and-play-the-demo" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/the-client-ios-and-android-end-flow-and-play-the-demo</a><a id="more"></a>
</li>
</ul>
<h3 id="IOS"><a href="#IOS" class="headerlink" title="IOS"></a>IOS</h3><ul>
<li>httpsé—®é¢˜FAQ <a href="https://developer.qiniu.com/pili/kb/client-ios-sdk-support-for-https" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/client-ios-sdk-support-for-https</a></li>
<li>IOSæ¥å…¥ <a href="https://developer.qiniu.com/pili/kb/basic-knowledge-of-client-ios-access" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/basic-knowledge-of-client-ios-access</a></li>
</ul>
<h3 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h3><ul>
<li>Androidæ¥å…¥ <a href="https://developer.qiniu.com/pili/kb/basic-knowledge-of-android-access-pili-client" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/basic-knowledge-of-android-access-pili-client</a></li>
</ul>
<h2 id="ç›´æ’­äº‘ç‰¹æ®Šé…ç½®é—®é¢˜"><a href="#ç›´æ’­äº‘ç‰¹æ®Šé…ç½®é—®é¢˜" class="headerlink" title="ç›´æ’­äº‘ç‰¹æ®Šé…ç½®é—®é¢˜"></a>ç›´æ’­äº‘ç‰¹æ®Šé…ç½®é—®é¢˜</h2><ul>
<li>æ’­æ”¾é‰´æƒ(é˜²ç›—é“¾) <a href="https://developer.qiniu.com/pili/kb/seven-cattle-live-broadcast-authentication-of-cloud-a-timestamp-hotlinking-prevention" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/seven-cattle-live-broadcast-authentication-of-cloud-a-timestamp-hotlinking-prevention</a></li>
<li>ä¸»åŠ¨å›æº <a href="https://developer.qiniu.com/pili/kb/seven-cattle" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/seven-cattle</a></li>
<li>VR æ’­æ”¾å™¨æ”¯æŒ</li>
<li>å¤šç ç‡æ”¯æŒ&amp;æœåŠ¡ç«¯æ°´å° <a href="https://developer.qiniu.com/pili/kb/on-live-streaming-real-time-transcoding-control-multi-rate-service-side-watermark" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/on-live-streaming-real-time-transcoding-control-multi-rate-service-side-watermark</a></li>
</ul>
<h2 id="å…¶ä»–å¸¸è§é—®é¢˜"><a href="#å…¶ä»–å¸¸è§é—®é¢˜" class="headerlink" title="å…¶ä»–å¸¸è§é—®é¢˜"></a>å…¶ä»–å¸¸è§é—®é¢˜</h2><ul>
<li>ç‚¹æ’­ç©ºé—´é…ç½®åŠ é€ŸåŸŸå <a href="https://developer.qiniu.com/pili/kb/set-on-demand-to-live-space-domain-acceleration" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/set-on-demand-to-live-space-domain-acceleration</a></li>
<li>æ¨æµä¸æˆåŠŸçš„åŸå›  <a href="https://developer.qiniu.com/pili/kb/push-flow-not-successful-reason-and-solution" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/push-flow-not-successful-reason-and-solution</a></li>
<li>ç›´æ’­æµçŠ¶æ€ <a href="https://developer.qiniu.com/pili/kb/live-on-flow-state" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-on-flow-state</a></li>
<li>ç›´æ’­è®¾ç½®å»¶è¿Ÿæ’­æ”¾<ul>
<li>ç›´æ’­å»¶è¿ŸFAQ <a href="https://developer.qiniu.com/pili/kb/server-live-on-delay" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/server-live-on-delay</a></li>
<li>ä¸»åŠ¨å»¶è¿Ÿ <a href="https://developer.qiniu.com/pili/kb/live-time-delay-test" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-time-delay-test</a></li>
<li>æ¶ˆé™¤å»¶è¿Ÿ <ul>
<li>å»¶è¿Ÿæµ‹è¯•æ–¹æ¡ˆ <a href="https://developer.qiniu.com/pili/kb/live-time-delay-test" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-time-delay-test</a></li>
<li>OBSå»¶è¿Ÿ <a href="https://developer.qiniu.com/pili/kb/obs-push-flow-time-delay-is-bigger-to-do-more-than-3-seconds" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/obs-push-flow-time-delay-is-bigger-to-do-more-than-3-seconds</a></li>
</ul>
</li>
</ul>
</li>
<li>ç›´æ’­çŠ¶æ€å›è°ƒ <a href="https://developer.qiniu.com/pili/kb/server-about-the-live-status-callback" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/server-about-the-live-status-callback</a></li>
<li>ç›´æ’­æ¨æµæ–¹å¼ <a href="https://developer.qiniu.com/pili/kb/live-type" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-type</a></li>
<li>ç›´æ’­ç ç‡å»ºè®® <a href="https://developer.qiniu.com/pili/kb/rate-of-the-recommended" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/rate-of-the-recommended</a></li>
<li>ç›´æ’­å†…å®¹å¦‚ä½•ç‚¹æ’­&amp;FAQ <ul>
<li>æ§åˆ¶å°æ“ä½œ&amp;sdk <a href="https://developer.qiniu.com/pili/kb/how-do-i-live-video-on-demand-history" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/how-do-i-live-video-on-demand-history</a></li>
<li>FAQ <a href="https://developer.qiniu.com/pili/kb/the-preservation-of-the-server-about-live-streaming-data" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/the-preservation-of-the-server-about-live-streaming-data</a></li>
</ul>
</li>
<li>webç«¯æ’­æ”¾ç›´æ’­ <a href="https://developer.qiniu.com/pili/kb/client-format-from-web-side-support" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/client-format-from-web-side-support</a></li>
<li>è·å–åœ¨çº¿äººæ•° <a href="https://developer.qiniu.com/pili/kb/the-number-of-live-online-statistics-useful" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/the-number-of-live-online-statistics-useful</a></li>
<li>æˆªå›¾åŸŸåè½¬https <a href="https://developer.qiniu.com/pili/kb/how-the-hls-flv-video-playback-and-capture-domain-from-http-to-https" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/how-the-hls-flv-video-playback-and-capture-domain-from-http-to-https</a></li>
<li>è§†é¢‘å¸§ç‡ä½çš„åŸå›  <a href="https://developer.qiniu.com/pili/kb/the-cause-of-the-video-frame-rate-low" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/the-cause-of-the-video-frame-rate-low</a></li>
</ul>
<h1 id="æŠ€èƒ½æå‡"><a href="#æŠ€èƒ½æå‡" class="headerlink" title="æŠ€èƒ½æå‡"></a>æŠ€èƒ½æå‡</h1><ul>
<li>FFmpeg ä½¿ç”¨ <a href="https://developer.qiniu.com/pili/kb/ffmpeg-use-skills" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/ffmpeg-use-skills</a></li>
<li>å¦‚ä½•æµ‹è¯•å›è°ƒ <a href="https://developer.qiniu.com/pili/kb/live-status-notification" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/live-status-notification</a></li>
<li>è§†é¢‘é€šè¿‡ç›´æ’­çš„å½¢å¼è½¬æ¨å¹¶åˆ†å‘ <a href="https://developer.qiniu.com/pili/kb/how-to-transfer-existing-video-with-a-live-push-and-distributed" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/how-to-transfer-existing-video-with-a-live-push-and-distributed</a></li>
<li>pts&amp;dts <a href="https://developer.qiniu.com/pili/kb/server-pts-dts" target="_blank" rel="external">https://developer.qiniu.com/pili/kb/server-pts-dts</a></li>
</ul>
<blockquote>
<p>æ›´å¤šé—®é¢˜å¯ä»¥å‘é€é‚®ä»¶è‡³ support@qiniu.com</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ç›´æ’­äº‘ä»·æ ¼é—®é¢˜&quot;&gt;&lt;a href=&quot;#ç›´æ’­äº‘ä»·æ ¼é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;ç›´æ’­äº‘ä»·æ ¼é—®é¢˜&quot;&gt;&lt;/a&gt;ç›´æ’­äº‘ä»·æ ¼é—®é¢˜&lt;/h1&gt;&lt;p&gt;æ‹¨æ‰“ 400-808-9176 è½¬ 2 å·çº¿&lt;/p&gt;
&lt;h1 id=&quot;ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜&quot;&gt;&lt;a href=&quot;#ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜&quot;&gt;&lt;/a&gt;ç›´æ’­äº‘ä½¿ç”¨é—®é¢˜&lt;/h1&gt;&lt;h2 id=&quot;serverç«¯&quot;&gt;&lt;a href=&quot;#serverç«¯&quot; class=&quot;headerlink&quot; title=&quot;serverç«¯&quot;&gt;&lt;/a&gt;serverç«¯&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ¨æµé‰´æƒ &lt;a href=&quot;https://developer.qiniu.com/pili/kb/seven-cows-live-push-flow-authentication-md&quot;&gt;https://developer.qiniu.com/pili/kb/seven-cows-live-push-flow-authentication-md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å½•åˆ¶è½¬å­˜è®¾ç½®ç”Ÿå‘½å‘¨æœŸ &lt;a href=&quot;https://developer.qiniu.com/pili/kb/saveas-call-save-and-set-m3u8-expiration-time&quot;&gt;https://developer.qiniu.com/pili/kb/saveas-call-save-and-set-m3u8-expiration-time&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç›´æ’­æµåˆ é™¤ &lt;a href=&quot;https://developer.qiniu.com/pili/kb/live-streaming&quot;&gt;https://developer.qiniu.com/pili/kb/live-streaming&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;V1ç‰ˆæœ¬API &lt;a href=&quot;https://developer.qiniu.com/pili/kb/api-interface-documents-v1&quot;&gt;https://developer.qiniu.com/pili/kb/api-interface-documents-v1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢æ¨æµå†å² &lt;a href=&quot;https://developer.qiniu.com/pili/kb/server-on-live-playback-history-query&quot;&gt;https://developer.qiniu.com/pili/kb/server-on-live-playback-history-query&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;å…³äºstreamJson &lt;a href=&quot;https://developer.qiniu.com/pili/kb/mix-about-streamjson&quot;&gt;https://developer.qiniu.com/pili/kb/mix-about-streamjson&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;clientç«¯&quot;&gt;&lt;a href=&quot;#clientç«¯&quot; class=&quot;headerlink&quot; title=&quot;clientç«¯&quot;&gt;&lt;/a&gt;clientç«¯&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;demo &lt;a href=&quot;https://developer.qiniu.com/pili/kb/the-client-ios-and-android-end-flow-and-play-the-demo&quot;&gt;https://developer.qiniu.com/pili/kb/the-client-ios-and-android-end-flow-and-play-the-demo&lt;/a&gt;
    
    </summary>
    
      <category term="pili" scheme="https://www.bz1.me/categories/pili/"/>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ƒç‰›ç›´æ’­äº‘æ’­æ”¾é‰´æƒ-æ—¶é—´æˆ³é˜²ç›—é“¾</title>
    <link href="https://www.bz1.me/shijianchuo.html"/>
    <id>https://www.bz1.me/shijianchuo.html</id>
    <published>2017-02-22T02:12:15.000Z</published>
    <updated>2017-02-22T02:12:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>å½“å‰ç›´æ’­æ’­æ”¾é‰´æƒé…ç½®ï¼Œéœ€è¦æä¾›å¦‚ä¸‹ä¿¡æ¯ï¼Œæäº¤å·¥å•æˆ–è€…é‚®ä»¶è‡³ support@qiniu.com</p>
<ul>
<li>ç›´æ’­ç©ºé—´åç§°  </li>
<li>key  </li>
<li>ç§ç±» [tsStartMD5 or tsExpireMD5]ï¼Œå¦‚æœæ˜¯ç¬¬ä¸€ç§ï¼Œéœ€è¦æäº¤å…·ä½“è¿‡æœŸæ—¶é—´ï¼Œä¾‹å¦‚ 5 åˆ†é’Ÿ </li>
</ul>
</blockquote>
<p>åŸºäºæ—¶é—´æˆ³é˜²ç›—é“¾çš„åŠŸèƒ½å…¶å®æ¯å®¶çš„ CDN éƒ½æ˜¯æ”¯æŒçš„ã€‚ä¸»è¦æ˜¯é€šè¿‡ä½¿ç”¨çº¦å®šçš„åŠ å¯†å­—ç¬¦ä¸²æ¥å¯¹å…·æœ‰è®¿é—®æœ‰æ•ˆæœŸçš„èµ„æºé“¾æ¥è¿›è¡Œä¸€äº›åŠ å¯†è®¡ç®—çš„åˆ°ä¸€ä¸ª sign å€¼ï¼Œç„¶åè®¿é—®å¤–é“¾é‡Œé¢å¸¦ä¸Šè¿™ä¸ªsignå’Œæˆªæ­¢æ—¶é—´æˆ³å»è®¿é—®CDNçš„èŠ‚ç‚¹ï¼ŒCDNçš„èŠ‚ç‚¹ä¼šç”¨åŒæ ·çš„ç®—æ³•æ¥è®¡ç®—è®¿é—®é“¾æ¥æ˜¯å¦åˆæ³•ï¼Œå¦‚æœä¸åˆæ³•åˆ™è¿”å›403 Forbiddenï¼Œå¦åˆ™è¿”å›æ‰€è¦è®¿é—®çš„èµ„æºã€‚</p>
<h2 id="ç®—æ³•è¯´æ˜"><a href="#ç®—æ³•è¯´æ˜" class="headerlink" title="ç®—æ³•è¯´æ˜"></a>ç®—æ³•è¯´æ˜</h2><p>åŸºäºæ—¶é—´æˆ³çš„é˜²ç›—é“¾æ˜¯é€šè¿‡å¯¹æ—¶é—´æœ‰å…³çš„å­—ç¬¦ä¸²è¿›è¡Œç­¾åï¼Œå°†æ—¶é—´ï¼Œç­¾åé€šè¿‡ä¸€å®šçš„æ–¹å¼ä¼ é€’ç»™CDNæœåŠ¡å™¨ä½œä¸ºåˆ¤å®šä¾æ®ï¼ŒCDN è¾¹ç¼˜èŠ‚ç‚¹ä¾æ®çº¦å®šçš„ç®—æ³•åˆ¤æ–­æ¥è®¿çš„URLæ˜¯å¦æœ‰è®¿é—®æƒé™ã€‚<br>å¦‚æœé€šè¿‡ï¼Œæ‰§è¡Œä¸‹ä¸€æ­¥ï¼›å¦‚æœä¸é€šè¿‡ï¼Œå“åº” HTTP çŠ¶æ€ç  403ã€‚<br>â­ï¸ ä¸ƒç‰›ç›´æ’­äº‘æ”¯æŒä¸¤ç§æ—¶é—´æˆ³é˜²ç›—é“¾ï¼š<br>â‘ tsStartMD5<br>æŒ‡å®šèµ·å§‹æ—¶é—´æˆ³æ’­æ”¾é‰´æƒã€‚tokençš„ç”Ÿæˆç®—æ³•æ˜¯md5ï¼Œæœ‰æ•ˆæ—¶é—´ä»URLçš„æ—¶é—´æˆ³(åå…­è¿›åˆ¶)å¼€å§‹åˆ°â€rangeâ€ç§’åã€‚<br>â‘¡tsExpireMD5<br>æŒ‡å®šè¿‡æœŸæ—¶é—´æˆ³æ’­æ”¾é‰´æƒã€‚tokençš„ç”Ÿæˆç®—æ³•æ˜¯md5, æœ‰æ•ˆæ—¶é—´ä»ç°åœ¨å¼€å§‹åˆ°URLä¸­çš„æ—¶é—´æˆ³(åå…­è¿›åˆ¶)ä¸ºæ­¢ã€‚</p>
<h2 id="ç­¾åå‚æ•°"><a href="#ç­¾åå‚æ•°" class="headerlink" title="ç­¾åå‚æ•°"></a>ç­¾åå‚æ•°</h2><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th style="text-align:left">æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>T(2ç§)</td>
<td style="text-align:left">â‘ èµ·å§‹æ—¶é—´ï¼ŒæŠŠUnixä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³ï¼Œç”¨16è¿›åˆ¶çš„å°å†™å­—æ¯å½¢å¼è¡¨ç¤ºï¼Œæäº¤ CDN å‚å•†å›ºå®šçš„ range è¿‡æœŸæ—¶é—´ï¼Œæ¯”å¦‚ 5 åˆ†é’Ÿï¼Œé‚£ä¹ˆä»¥å½“å‰æ—¶é—´ T ç­¾ç®—ï¼Œå›ºå®šåœ¨ T+300s åè¿‡æœŸ  â‘¡URLè¿‡æœŸçš„æ—¶é—´ï¼ŒæŠŠUnixä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³ï¼Œç”¨16è¿›åˆ¶çš„å°å†™å­—æ¯å½¢å¼è¡¨ç¤ºã€‚æ¯”å¦‚ 2017å¹´ 2æœˆ22æ—¥ 10æ—¶07åˆ†36ç§’ CST å¯¹åº”çš„æ—¶é—´æˆ³æ˜¯ 1487729256 ï¼Œè¡¨ç¤ºä¸º16è¿›åˆ¶å°±æ˜¯ 58acf268ã€‚</td>
</tr>
<tr>
<td>key</td>
<td style="text-align:left">å’Œ CDN çº¦å®šå¥½çš„åŠ å¯†å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>path</td>
<td style="text-align:left">è®¿é—®èµ„æºå¤–é“¾çš„PATHéƒ¨åˆ†ï¼Œæ¯”å¦‚å¦‚æœè®¿é—®çš„å¤–é“¾æ˜¯ <a href="http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8" target="_blank" rel="external">http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8</a> é‚£ä¹ˆå…¶ä¸­ PATH éƒ¨åˆ†å°±æ˜¯ /tron/baozijian.m3u8</td>
</tr>
</tbody>
</table>
<h2 id="ç­¾åç®—æ³•"><a href="#ç­¾åç®—æ³•" class="headerlink" title="ç­¾åç®—æ³•"></a>ç­¾åç®—æ³•</h2><p>å¾…ç­¾åçš„åŸå§‹å­—ç¬¦ä¸² <code>s=key+path+T</code><br>ç­¾åæ–¹å¼ <code>sign=md5(s).to_lower()</code>ï¼Œå…¶ä¸­ <code>to_lower()</code> è¡¨ç¤ºç”Ÿæˆçš„md5å­—ç¬¦ä¸²ç”¨å°å†™å­—æ¯è¡¨ç¤º</p>
<h2 id="ç­¾åå‚æ•°ä¼ é€’æ–¹å¼"><a href="#ç­¾åå‚æ•°ä¼ é€’æ–¹å¼" class="headerlink" title="ç­¾åå‚æ•°ä¼ é€’æ–¹å¼"></a>ç­¾åå‚æ•°ä¼ é€’æ–¹å¼</h2><p>ä¾‹å¦‚æ’­æ”¾åœ°å€æ˜¯ï¼š<br><a href="http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8" target="_blank" rel="external">http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8</a><br>æœ€ç»ˆå½¢æˆçš„æ’­æ”¾åœ°å€æ˜¯ï¼š<br><a href="http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8&amp;sign=xxxx&amp;t=xxxx" target="_blank" rel="external">http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8&amp;sign=xxxx&amp;t=xxxx</a></p>
<h2 id="ç®—æ³•å‚è€ƒå®ç°ï¼š"><a href="#ç®—æ³•å‚è€ƒå®ç°ï¼š" class="headerlink" title="ç®—æ³•å‚è€ƒå®ç°ï¼š"></a>ç®—æ³•å‚è€ƒå®ç°ï¼š</h2><figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.qiniulab.cdn;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</div><div class="line"><span class="keyword">import</span> java.net.MalformedURLException;</div><div class="line"><span class="keyword">import</span> java.net.URL;</div><div class="line"><span class="keyword">import</span> java.security.MessageDigest;</div><div class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.commons.codec.<span class="built_in">binary</span>.Hex;</div><div class="line"></div><div class="line"><span class="keyword">public</span> class CdnAntiLeech &#123;</div><div class="line">    <span class="comment">/**</span></div><div class="line">     * ç”Ÿæˆèµ„æºåŸºäºCDNæ—¶é—´æˆ³é˜²ç›—é“¾çš„è®¿é—®å¤–é“¾</div><div class="line">     * </div><div class="line">     * @param èµ„æºåŸå§‹å¤–é“¾</div><div class="line">     * @param ç»“æœèµ„æºçš„æœ‰æ•ˆæœŸï¼Œå•ä½ç§’</div><div class="line">     * @throws MalformedURLException</div><div class="line">     * @throws UnsupportedEncodingException</div><div class="line">     * @throws NoSuchAlgorithmException</div><div class="line">     */</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">String</span> getAntiLeechAccessUrlBasedOnTimestamp(<span class="keyword">String</span> url, <span class="keyword">String</span> encryptKey, <span class="built_in">int</span> durationInSeconds)</div><div class="line">            <span class="keyword">throws</span> MalformedURLException, UnsupportedEncodingException, NoSuchAlgorithmException &#123;</div><div class="line">        URL urlObj = <span class="keyword">new</span> URL(url);</div><div class="line">        <span class="keyword">String</span> path = urlObj.getPath();</div><div class="line"></div><div class="line">        <span class="keyword">long</span> timestampNow = System.currentTimeMillis() / <span class="number">1000</span> + durationInSeconds;</div><div class="line">        <span class="keyword">String</span> expireHex = Long.toHexString(timestampNow);</div><div class="line"></div><div class="line">        <span class="keyword">String</span> toSignStr = <span class="keyword">String</span>.format(<span class="string">"%s%s%s"</span>, encryptKey, path, expireHex);</div><div class="line">        <span class="keyword">String</span> signedStr = md5ToLower(toSignStr);</div><div class="line"></div><div class="line">        <span class="keyword">String</span> signedUrl = <span class="keyword">null</span>;</div><div class="line">        <span class="keyword">if</span> (urlObj.getQuery() != <span class="keyword">null</span>) &#123;</div><div class="line">            signedUrl = <span class="keyword">String</span>.format(<span class="string">"%s&amp;sign=%s&amp;t=%s"</span>, url, signedStr, expireHex);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            signedUrl = <span class="keyword">String</span>.format(<span class="string">"%s?sign=%s&amp;t=%s"</span>, url, signedStr, expireHex);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> signedUrl;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">String</span> md5ToLower(<span class="keyword">String</span> src) <span class="keyword">throws</span> UnsupportedEncodingException, NoSuchAlgorithmException &#123;</div><div class="line">        MessageDigest digest = MessageDigest.getInstance(<span class="string">"MD5"</span>);</div><div class="line">        digest.update(src.getBytes(<span class="string">"utf-8"</span>));</div><div class="line">        <span class="built_in">byte</span>[] md5Bytes = digest.digest();</div><div class="line">        <span class="keyword">return</span> Hex.encodeHexString(md5Bytes);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// cdn é…ç½®çš„åŸºäºæ—¶é—´æˆ³é˜²ç›—é“¾çš„åŠ å¯†å­—ç¬¦ä¸²ï¼Œcdn é…ç½®å®Œæˆåä¼šå¾—åˆ°</span></div><div class="line"><span class="keyword">String</span> encryptKey = <span class="string">""</span>;</div><div class="line"><span class="comment">// å¾…åŠ å¯†é“¾æ¥</span></div><div class="line"><span class="keyword">String</span> fileKey = <span class="string">"xxxx.pdf"</span>;</div><div class="line"><span class="keyword">String</span> encodedFileKey;</div><div class="line"><span class="built_in">try</span> &#123;</div><div class="line">    <span class="comment">// è€ƒè™‘åˆ°æ–‡ä»¶åç§°ä¼šæœ‰ä¸­æ–‡ï¼Œæ‰€ä»¥éœ€è¦åšurlencode</span></div><div class="line">    encodedFileKey = URLEncoder.encode(fileKey, <span class="string">"utf-8"</span>);</div><div class="line">    <span class="keyword">String</span> urlToSign = <span class="keyword">String</span>.format(<span class="string">"http://img.abc.com/%s"</span>, encodedFileKey);</div><div class="line">    <span class="comment">// æœ‰æ•ˆæœŸ</span></div><div class="line">    <span class="keyword">int</span> duration = <span class="number">3600</span>;</div><div class="line"></div><div class="line">    <span class="keyword">String</span> signedUrl = CdnAntiLeech.getAntiLeechAccessUrlBasedOnTimestamp(urlToSign, encryptKey, duration);</div><div class="line">    System.out.<span class="built_in">println</span>(signedUrl);</div><div class="line">&#125; <span class="built_in">catch</span> (UnsupportedEncodingException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125; <span class="built_in">catch</span> (MalformedURLException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125; <span class="built_in">catch</span> (NoSuchAlgorithmException e) &#123;</div><div class="line">    e.printStackTrace();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å½“å‰ç›´æ’­æ’­æ”¾é‰´æƒé…ç½®ï¼Œéœ€è¦æä¾›å¦‚ä¸‹ä¿¡æ¯ï¼Œæäº¤å·¥å•æˆ–è€…é‚®ä»¶è‡³ support@qiniu.com&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç›´æ’­ç©ºé—´åç§°  &lt;/li&gt;
&lt;li&gt;key  &lt;/li&gt;
&lt;li&gt;ç§ç±» [tsStartMD5 or tsExpireMD5]
    
    </summary>
    
      <category term="pili" scheme="https://www.bz1.me/categories/pili/"/>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ƒç‰›çš„ç¬¬ä¸€ä¸ªåœ£è¯èŠ‚</title>
    <link href="https://www.bz1.me/%E4%B8%83%E7%89%9B%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%9C%A3%E8%AF%9E%E8%8A%82.html"/>
    <id>https://www.bz1.me/ä¸ƒç‰›çš„ç¬¬ä¸€ä¸ªåœ£è¯èŠ‚.html</id>
    <published>2016-12-23T10:29:22.000Z</published>
    <updated>2016-12-23T10:29:22.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç‰›æ£šè¿‡åœ£è¯èŠ‚"><a href="#ç‰›æ£šè¿‡åœ£è¯èŠ‚" class="headerlink" title="ç‰›æ£šè¿‡åœ£è¯èŠ‚"></a>ç‰›æ£šè¿‡åœ£è¯èŠ‚</h3><p>ä»Šå¤©å‘¨äº”ï¼Œå¿™ç¢Œçš„ä¸€å¤©ï¼Œä½†æ˜¯å…¬å¸æ°›å›´è¿˜æ˜¯è¶³è¶³å“’<br><img src="https://upload.bz1.me/dangao.png" alt=""></p>
<p>æ™’å‡ å¼ å›¾ğŸ˜</p>
<h4 id="å…¬å¸-HR-ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡"><a href="#å…¬å¸-HR-ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡" class="headerlink" title="å…¬å¸ HR ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡"></a>å…¬å¸ HR ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡</h4><p>çœ‹èµ·æ¥æŒºæ­£å¸¸çš„<br><img src="https://upload.bz1.me/1222.png?imageView/2/h/500" alt=""><br>è¿™ä¸ªæŒ‡çš„æ˜¯ï¼Ÿoppo å……ç”µæ‰‹æœºï¼Ÿ<br><img src="https://upload.bz1.me/xiuxiwufenzhong.png?imageView/2/h/500" alt=""><br>é¢<br><img src="https://upload.bz1.me/baojian.png?imageView/2/h/500" alt=""><br><a id="more"></a><br>å¥½å§ï¼Œå•¥ä¹Ÿä¸è¯´äº†ï¼Œå…¬å¸ HR å§å§ï¼Œä½ å˜äº†<br><img src="https://upload.bz1.me/niuxiao7durex.png?imageView/2/h/500" alt=""></p>
<h4 id="è¿˜è¯·äº†ç¾å¥³é¼“åŠ±å¸ˆ"><a href="#è¿˜è¯·äº†ç¾å¥³é¼“åŠ±å¸ˆ" class="headerlink" title="è¿˜è¯·äº†ç¾å¥³é¼“åŠ±å¸ˆ"></a>è¿˜è¯·äº†ç¾å¥³é¼“åŠ±å¸ˆ</h4><p><img src="https://upload.bz1.me/gulishi.png?imageView/2/h/500" alt=""></p>
<p><img src="https://upload.bz1.me/gulishi2.png?imageView/2/h/500" alt=""></p>
<p>å†çœ‹çœ‹äººå®¶çš„é¼“åŠ±å¸ˆï¼Œå•¥ä¹Ÿä¸è¯´äº†<br><img src="https://upload.bz1.me/bierenjia.png?imageView/2/h/500" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;ç‰›æ£šè¿‡åœ£è¯èŠ‚&quot;&gt;&lt;a href=&quot;#ç‰›æ£šè¿‡åœ£è¯èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;ç‰›æ£šè¿‡åœ£è¯èŠ‚&quot;&gt;&lt;/a&gt;ç‰›æ£šè¿‡åœ£è¯èŠ‚&lt;/h3&gt;&lt;p&gt;ä»Šå¤©å‘¨äº”ï¼Œå¿™ç¢Œçš„ä¸€å¤©ï¼Œä½†æ˜¯å…¬å¸æ°›å›´è¿˜æ˜¯è¶³è¶³å“’&lt;br&gt;&lt;img src=&quot;https://upload.bz1.me/dangao.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æ™’å‡ å¼ å›¾ğŸ˜&lt;/p&gt;
&lt;h4 id=&quot;å…¬å¸-HR-ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡&quot;&gt;&lt;a href=&quot;#å…¬å¸-HR-ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡&quot; class=&quot;headerlink&quot; title=&quot;å…¬å¸ HR ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡&quot;&gt;&lt;/a&gt;å…¬å¸ HR ç»™æˆ‘ä»¬å‘çš„ç§˜å¯†æŠ¥å¤‡&lt;/h4&gt;&lt;p&gt;çœ‹èµ·æ¥æŒºæ­£å¸¸çš„&lt;br&gt;&lt;img src=&quot;https://upload.bz1.me/1222.png?imageView/2/h/500&quot; alt=&quot;&quot;&gt;&lt;br&gt;è¿™ä¸ªæŒ‡çš„æ˜¯ï¼Ÿoppo å……ç”µæ‰‹æœºï¼Ÿ&lt;br&gt;&lt;img src=&quot;https://upload.bz1.me/xiuxiwufenzhong.png?imageView/2/h/500&quot; alt=&quot;&quot;&gt;&lt;br&gt;é¢&lt;br&gt;&lt;img src=&quot;https://upload.bz1.me/baojian.png?imageView/2/h/500&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
      <category term="Christmas" scheme="https://www.bz1.me/tags/Christmas/"/>
    
  </entry>
  
  <entry>
    <title>hexoéƒ¨ç½²è‡³ä¸ƒç‰›ä¹‹ä¸€é”®æ“ä½œ</title>
    <link href="https://www.bz1.me/hexo%E9%83%A8%E7%BD%B2%E8%87%B3%E4%B8%83%E7%89%9B%E4%B9%8B%E4%B8%80%E9%94%AE%E6%93%8D%E4%BD%9C.html"/>
    <id>https://www.bz1.me/hexoéƒ¨ç½²è‡³ä¸ƒç‰›ä¹‹ä¸€é”®æ“ä½œ.html</id>
    <published>2016-12-16T14:14:13.000Z</published>
    <updated>2016-12-16T14:14:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>åæ§½ï¼š</p>
<ul>
<li>æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ•²é‚£ä¹ˆå¤šå‘½ä»¤ï¼ŒçœŸçš„æ˜¯å¿ƒéƒ½ç´¯äº†</li>
<li>ä¸ƒç‰›æ‰€æœ‰èµ„æºé»˜è®¤èµ° CDN åŠ é€Ÿï¼Œé™æ€åšå®¢åˆæƒ³ç¼“å­˜ï¼Œéƒ¨ç½²è¿‡ååˆä¸æƒ³ç¼“å­˜ï¼ŒçœŸæ˜¯çƒ¦</li>
<li>ä¸è¡Œï¼Œé€¼æ ¼è¿˜æ˜¯ä¸å¤Ÿé«˜</li>
</ul>
<h3 id="å¼€å§‹åŠ¨æ‰‹"><a href="#å¼€å§‹åŠ¨æ‰‹" class="headerlink" title="å¼€å§‹åŠ¨æ‰‹"></a>å¼€å§‹åŠ¨æ‰‹</h3><h4 id="å…ˆçœ‹æ•ˆæœ"><a href="#å…ˆçœ‹æ•ˆæœ" class="headerlink" title="å…ˆçœ‹æ•ˆæœ"></a>å…ˆçœ‹æ•ˆæœ</h4><p><img src="https://up.bz1.me/hello6.gif" alt="gif"></p>
<h4 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h4><p>å·²ç»èƒ½å¤ŸæˆåŠŸéƒ¨ç½²ä¸Šä¼ è‡³ä¸ƒç‰›çš„æ“ä½œï¼Œå‚è€ƒ<a href="https://www.bz1.me/%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2hexo%E4%B9%8B%E3%80%8E%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8%E3%80%8F.html">å¹³å°éƒ¨ç½²hexoä¹‹ã€ä¸ƒç‰›äº‘å­˜å‚¨ã€</a></p>
<h4 id="è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹"><a href="#è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹" class="headerlink" title="è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹"></a>è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹</h4><ul>
<li>æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢</li>
<li>åŒæ­¥æœ¬åœ°é™æ€æ–‡ä»¶è‡³ä¸ƒç‰›</li>
<li>åˆ·æ–°ä¸ƒç‰› CDN ç¼“å­˜<a id="more"></a>
</li>
</ul>
<h4 id="è„šæœ¬å¦‚ä¸‹"><a href="#è„šæœ¬å¦‚ä¸‹" class="headerlink" title="è„šæœ¬å¦‚ä¸‹"></a>è„šæœ¬å¦‚ä¸‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env bash</span></div><div class="line"></div><div class="line"><span class="comment"># æœ¬åœ°éƒ¨ç½²</span></div><div class="line">hexo clean</div><div class="line">hexo g</div><div class="line"><span class="built_in">echo</span> <span class="string">""</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"æœ¬åœ°é¡µé¢ç”ŸæˆæˆåŠŸ!"</span></div><div class="line"><span class="built_in">echo</span> <span class="string">""</span> </div><div class="line"><span class="comment"># qshell åŒæ­¥é™æ€æ–‡ä»¶åˆ°ä¸ƒç‰›</span></div><div class="line">qshell qupload /Users/Baozi/Documents/hexo/newblog/hexoup_conf.txt</div><div class="line"><span class="built_in">echo</span> <span class="string">""</span></div><div class="line"><span class="built_in">echo</span> <span class="string">"ä¸Šä¼ ç»“æŸï¼Œæ­£åœ¨åˆ·æ–°ç¼“å­˜..."</span></div><div class="line"><span class="built_in">echo</span> <span class="string">""</span></div><div class="line"><span class="built_in">echo</span> <span class="string">""</span></div><div class="line"><span class="comment"># åˆ·æ–° CDN ç¼“å­˜</span></div><div class="line">ak=<span class="string">"â‘ è¿™é‡Œå¡«å†™ä¸ƒç‰›çš„AccessKey"</span></div><div class="line">token=$(<span class="built_in">echo</span> <span class="string">"/v2/tune/refresh"</span> |openssl dgst -binary -hmac <span class="string">"â‘¡è¿™é‡Œå¡«å†™ä½ çš„SecretKey"</span> -sha1 |base64 |tr <span class="string">"+/"</span> <span class="string">"-_"</span>)</div><div class="line">result=$(curl -X POST -H <span class="string">"Authorization: QBox <span class="variable">$ak</span>:<span class="variable">$token</span>"</span> http://fusion.qiniuapi.com/v2/tune/refresh <span class="_">-d</span> <span class="string">'&#123;"dirs":["â‘¢è¿™é‡Œå¡«å†™ä½ çš„ä¸»é¡µ"]&#125;'</span> -H <span class="string">'Content-Type: application/json'</span>)</div><div class="line">code=$(<span class="built_in">echo</span> <span class="variable">$result</span> | awk -F <span class="string">','</span> <span class="string">'&#123;print $1&#125;'</span> | awk -F <span class="string">':'</span> <span class="string">'&#123;print $2&#125;'</span>)</div><div class="line">urlSurplusDay=$(<span class="built_in">echo</span> <span class="variable">$result</span> | awk -F <span class="string">'urlSurplusDay'</span> <span class="string">'&#123;print $2&#125;'</span> | awk -F <span class="string">'":'</span> <span class="string">'&#123;print $2&#125;'</span> | awk -F <span class="string">','</span> <span class="string">'&#123;print $1&#125;'</span>)</div><div class="line"><span class="keyword">if</span> [[ <span class="variable">$code</span> = 200 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"----------------------------------"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"åˆ·æ–°æˆåŠŸ!"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æœ¬æ—¥å‰©ä½™åˆ·æ–°æ¬¡æ•°ä¸º<span class="variable">$urlSurplusDay</span>"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"----------------------------------"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ¬¢è¿è®¿é—®:"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"â‘£è¿™é‡Œå¡«å†™ä½ çš„ä¸»é¡µåœ°å€"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"â‘¤è¿™é‡Œå¡«å†™ä½ çš„ä¸»é¡µåœ°å€"</span> | pbcopy</div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 400031 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"è¯·æ±‚ä¸­å­˜åœ¨æ— æ•ˆçš„ urlï¼Œè¯·ç¡®ä¿ url æ ¼å¼æ­£ç¡®"</span></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 400032 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"è¯·æ±‚ä¸­å­˜åœ¨æ— æ•ˆçš„åŸŸåï¼Œè¯·ç¡®ä¿åŸŸåæ ¼å¼æ­£ç¡®"</span></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 400034 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"è¯·æ±‚æ¬¡æ•°è¶…å‡ºå½“æ—¥åˆ·æ–°é™é¢,è¯·è”ç³»ä¸ƒç‰›æŠ€æœ¯æ”¯æŒ"</span></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 400036 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ— æ•ˆçš„è¯·æ±‚ id"</span></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 400037 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"url æ­£åœ¨åˆ·æ–°ä¸­"</span></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$code</span> = 500000 ]]; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æœåŠ¡ç«¯å†…éƒ¨é”™è¯¯ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ"</span></div><div class="line"><span class="keyword">else</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æœªçŸ¥é”™è¯¯ï¼Œä½ è„šæœ¬æœ‰é—®é¢˜ï¼"</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<p><code>qshell</code>çš„<code>hexoup_conf.txt</code>æ–‡ä»¶å¦‚ä¸‹<br><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   <span class="attr">"src_dir"</span>            :   <span class="string">"è¿™é‡Œå¡«å†™publicåœ¨æœ¬åœ°çš„ç»å¯¹è·¯å¾„"</span>,</div><div class="line">   <span class="attr">"access_key"</span>         :   <span class="string">"è¿™é‡Œå¡«å†™AK"</span>,</div><div class="line">   <span class="attr">"secret_key"</span>         :   <span class="string">"è¿™é‡Œå¡«å†™SK"</span>,</div><div class="line">   <span class="attr">"bucket"</span>             :   <span class="string">"è¿™é‡Œå¡«å†™ä¸ƒç‰›å­˜å‚¨ç©ºé—´åï¼Œåˆšæ‰æˆ‘æ–°å»ºçš„å«åšmyblog"</span>,</div><div class="line">   <span class="attr">"zone"</span>               :   <span class="string">"nb"</span>,</div><div class="line">   <span class="attr">"ignore_dir"</span>         :   <span class="literal">false</span>,</div><div class="line">   <span class="attr">"overwrite"</span>          :   <span class="literal">true</span>,</div><div class="line">   <span class="attr">"check_exists"</span>       :   <span class="literal">false</span>,</div><div class="line">   <span class="attr">"rescan_local"</span>       :   <span class="literal">true</span>,</div><div class="line">   <span class="attr">"check_hash"</span>         :   <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åæ§½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯æ¬¡éƒ¨ç½²éƒ½è¦æ•²é‚£ä¹ˆå¤šå‘½ä»¤ï¼ŒçœŸçš„æ˜¯å¿ƒéƒ½ç´¯äº†&lt;/li&gt;
&lt;li&gt;ä¸ƒç‰›æ‰€æœ‰èµ„æºé»˜è®¤èµ° CDN åŠ é€Ÿï¼Œé™æ€åšå®¢åˆæƒ³ç¼“å­˜ï¼Œéƒ¨ç½²è¿‡ååˆä¸æƒ³ç¼“å­˜ï¼ŒçœŸæ˜¯çƒ¦&lt;/li&gt;
&lt;li&gt;ä¸è¡Œï¼Œé€¼æ ¼è¿˜æ˜¯ä¸å¤Ÿé«˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å¼€å§‹åŠ¨æ‰‹&quot;&gt;&lt;a href=&quot;#å¼€å§‹åŠ¨æ‰‹&quot; class=&quot;headerlink&quot; title=&quot;å¼€å§‹åŠ¨æ‰‹&quot;&gt;&lt;/a&gt;å¼€å§‹åŠ¨æ‰‹&lt;/h3&gt;&lt;h4 id=&quot;å…ˆçœ‹æ•ˆæœ&quot;&gt;&lt;a href=&quot;#å…ˆçœ‹æ•ˆæœ&quot; class=&quot;headerlink&quot; title=&quot;å…ˆçœ‹æ•ˆæœ&quot;&gt;&lt;/a&gt;å…ˆçœ‹æ•ˆæœ&lt;/h4&gt;&lt;p&gt;&lt;img src=&quot;https://up.bz1.me/hello6.gif&quot; alt=&quot;gif&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h4&gt;&lt;p&gt;å·²ç»èƒ½å¤ŸæˆåŠŸéƒ¨ç½²ä¸Šä¼ è‡³ä¸ƒç‰›çš„æ“ä½œï¼Œå‚è€ƒ&lt;a href=&quot;https://www.bz1.me/%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2hexo%E4%B9%8B%E3%80%8E%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8%E3%80%8F.html&quot;&gt;å¹³å°éƒ¨ç½²hexoä¹‹ã€ä¸ƒç‰›äº‘å­˜å‚¨ã€&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹&quot;&gt;&lt;a href=&quot;#è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹&quot; class=&quot;headerlink&quot; title=&quot;è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹&quot;&gt;&lt;/a&gt;è„šæœ¬å®ŒæˆåŠŸèƒ½å¦‚ä¸‹&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢&lt;/li&gt;
&lt;li&gt;åŒæ­¥æœ¬åœ°é™æ€æ–‡ä»¶è‡³ä¸ƒç‰›&lt;/li&gt;
&lt;li&gt;åˆ·æ–°ä¸ƒç‰› CDN ç¼“å­˜
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
      <category term="hexo" scheme="https://www.bz1.me/tags/hexo/"/>
    
      <category term="bash shell" scheme="https://www.bz1.me/tags/bash-shell/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºä¸ƒç‰›å„ç§demoæ±‡æ€»</title>
    <link href="https://www.bz1.me/%E5%85%B3%E4%BA%8E%E4%B8%83%E7%89%9B%E5%90%84%E7%A7%8Ddemo%E6%B1%87%E6%80%BB.html"/>
    <id>https://www.bz1.me/å…³äºä¸ƒç‰›å„ç§demoæ±‡æ€».html</id>
    <published>2016-12-16T07:58:13.000Z</published>
    <updated>2016-12-16T07:58:13.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å¹³å°éƒ¨ç½²hexoä¹‹ã€VPSæœåŠ¡å™¨ã€</title>
    <link href="https://www.bz1.me/%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2hexo%E4%B9%8B%E3%80%8EVPS%E6%9C%8D%E5%8A%A1%E5%99%A8%E3%80%8F.html"/>
    <id>https://www.bz1.me/å¹³å°éƒ¨ç½²hexoä¹‹ã€VPSæœåŠ¡å™¨ã€.html</id>
    <published>2016-12-15T15:07:12.000Z</published>
    <updated>2016-12-15T15:07:12.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å¹³å°éƒ¨ç½²hexoä¹‹ã€ä¸ƒç‰›äº‘å­˜å‚¨ã€</title>
    <link href="https://www.bz1.me/%E5%B9%B3%E5%8F%B0%E9%83%A8%E7%BD%B2hexo%E4%B9%8B%E3%80%8E%E4%B8%83%E7%89%9B%E4%BA%91%E5%AD%98%E5%82%A8%E3%80%8F.html"/>
    <id>https://www.bz1.me/å¹³å°éƒ¨ç½²hexoä¹‹ã€ä¸ƒç‰›äº‘å­˜å‚¨ã€.html</id>
    <published>2016-12-15T15:05:54.000Z</published>
    <updated>2016-12-15T15:05:54.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æŒ‰ç…§é“ç†ï¼Œæˆ‘å…ˆæ¥æ‰¯ä¸€å †æ²¡ç”¨çš„ä¸œè¥¿</p>
<p>æœ€è¿‘å‡†å¤‡å¼€å§‹å­¦ä¹ å†™åšå®¢ï¼Œå†™åšå®¢é¦–å…ˆå°±æ˜¯è€ƒè™‘åšå®¢çš„æ‰˜ç®¡ï¼Œæ˜¯åœ¨ä»€ä¹ˆåœ°æ–¹å†™å¥½å‘¢ï¼Ÿå°è¯•äº†å¾ˆå¤šï¼Œæ¯”å¦‚ CSDNã€åšå®¢å›­ã€ç®€ä¹¦ç­‰ç­‰ï¼Œå†æ—©ä¸€äº›è¿˜ç©è¿‡ wordpressï¼Œä½†æ˜¯æ€»è§‰å¾—ä¸å¤Ÿå¥½ç”¨ï¼Œä¹Ÿä¸å¤Ÿç¾è§‚(å¯èƒ½æ˜¯æˆ‘æ¯”è¾ƒæŒ‘å‰”ï¼Œè¯´ç™½äº†å°±æ˜¯äº‹å„¿å¤š)ã€‚åæ¥æ¥è§¦åˆ°äº† hexoï¼ŒçœŸå¿ƒç®€æ´ç¾è§‚ï¼Œä¸€çœ¼çœ‹åˆ°å°±å®šå¿ƒé‡Œå»äº†ï¼Œäºæ˜¯ä¹ç€æ‰‹æäº†èµ·æ¥â€¦</p>
<p>æœ€å¼€å§‹è·Ÿç€<a href="https://hexo.io/docs/" target="_blank" rel="external">å®˜ç½‘æ•™ç¨‹</a>ï¼Œè¯»äº†åŠå¤©ä¹Ÿæ²¡çœ‹æ‡‚åˆ°åº•æ˜¯æ€ä¹ˆä¸€ä¸ªé€»è¾‘ï¼Œåæ¥ google æŸ¥äº†å¥½ä¹…æ‰çŸ¥é“åŸæ¥æ˜¯<code>æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢ï¼Œç„¶å push åˆ° github</code>ï¼Œäº†è§£è¿™ä¸ªï¼Œå°±è·Ÿç€æ•™ç¨‹å’Œ google æ¥çš„å¤§ç¥ä¸€æ­¥æ­¥åšï¼Œå¾ˆå¿«ä¹Ÿå°±éƒ¨ç½²ä¸Šå»äº†ï¼Œéƒ¨ç½²ç½® github çš„è¿‡ç¨‹æˆ‘å°±ä¸è¯´äº†ï¼Œç›´æ¥è´´å…¶ä»–åšä¸»çš„å¤–é“¾ä¾›å‚è€ƒå§ï¼Œéƒ½æ˜¯æºœæºœçš„</p>
<ul>
<li><a href="http://www.cylong.com/blog/2016/04/19/hexo-git/" target="_blank" rel="external">ç¬‘è¯äººç”Ÿ</a></li>
<li><a href="http://ehlxr.me/2016/07/23/%E4%BD%BF%E7%94%A8Hexo%E5%9F%BA%E4%BA%8EGitHub-Pages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%80%EF%BC%89/" target="_blank" rel="external">Ehlxrâ€™s Blog</a><a id="more"></a>
<h2 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2>æ—¢ç„¶æ˜¯æœ¬åœ°ç”Ÿæˆçš„é™æ€é¡µé¢ï¼Œå¯ä»¥ç”¨ <code>hexo d -g</code> éƒ¨ç½²åˆ° github ä¸Šé¢ï¼Œé‚£å½“ç„¶å¯ä»¥éƒ¨ç½²åˆ°å…¶ä»–çš„äº‘å¹³å°ä¸Šäº†ï¼Œåªä¸è¿‡ hexo ä¸æ”¯æŒç›´æ¥éƒ¨ç½²é git å¹³å°ï¼Œé‚£ä¹ˆè§£å†³æ–¹å¼æˆ‘è¿™è¾¹æœ‰ä¸¤ç§ï¼š</li>
<li>æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢ï¼Œpush åˆ°ä¸ƒç‰›äº‘å­˜å‚¨</li>
<li>åœ¨ VPS ä¸Šæ­å»º git æœåŠ¡å™¨ï¼Œç„¶åå°†éƒ¨ç½²ä½ç½®æŒ‡å‘ vps çš„ git æœåŠ¡å™¨ä¸Š</li>
</ul>
<blockquote>
<p>ä¸ºå•¥é€‰æ‹©ä¸ƒç‰›ï¼Ÿ</p>
<ul>
<li>ä¸ƒç‰›åœ¨åŠŸèƒ½ç‰¹æ€§ä¸Šï¼Œä¸€ç›´åœ¨å¼•é¢†äº‘å­˜å‚¨çš„æ½®æµã€‚æˆ‘ä»¬è¯•å›¾æ”¹å˜äº‘å­˜å‚¨ï¼Œè®©å¥¹æ›´åŠ äººæ€§åŒ–ï¼Œæ›´åŠ å¥½ç”¨ã€‚</li>
<li>ç‰¹æœ‰çš„ä¸Šä¼ åŠ é€Ÿèƒ½åŠ›ã€‚å…¶ä»–äº‘å­˜å‚¨é€šå¸¸åªåŠ é€Ÿä¸‹è½½ï¼ˆCDNï¼‰ã€‚æœ‰çš„å·ç§°æ”¯æŒä¸Šä¼ åŠ é€Ÿï¼Œå…¶å®ä¹Ÿå°±åªæ˜¯åšäº†ä¸Šä¼ çš„ä»£ç†èŠ‚ç‚¹ã€‚ä½†æ˜¯ä¸ƒç‰›æ˜¯å…¨çƒé¦–å®¶é‡‡ç”¨å¤šIDCæ¶æ„çš„åˆ†å¸ƒå¼å­˜å‚¨ã€‚æ•°æ®å°±è¿‘ä¸Šä¼ åˆ°æŸä¸ªIDCå³è½åœ°ï¼ŒçœŸæ­£åŠ é€Ÿåˆ°æè‡´ã€‚</li>
<li>ç‰¹æœ‰çš„æ–­ç‚¹ç»­ä¸Šä¼ åŠŸèƒ½ã€‚ä¸å†éœ€è¦ç½‘ç»œä¸è¡Œæ—¶åœ¨é‚£ä¸€ééä»å¤´å†æ¥ã€‚æ— è®ºç½‘ç»œå¤šç³Ÿç³•ï¼ˆå°¤å…¶æ˜¯3G/2Gç§»åŠ¨ç½‘ç»œï¼‰ã€æ— è®ºæ–‡ä»¶å¤šå¤§ï¼Œæˆ‘ä»¬éƒ½èƒ½å¤Ÿä¿è¯è®©ä½ çš„æ•°æ®åˆ°è¾¾æœåŠ¡å™¨ã€‚è¿™ä¸ªåœ¨å›½å†…ä»ç„¶æ²¡æœ‰å…¶ä»–äº‘å­˜å‚¨èƒ½å¤Ÿåšåˆ°ã€‚</li>
<li>CDNæ•´åˆã€‚ä¸ƒç‰›ç›®å‰æ•´åˆäº†åŒ…æ‹¬è“æ±›ã€ç½‘å®¿åœ¨å†…çš„å¤šå®¶ CDNï¼Œæ€»èŠ‚ç‚¹æ•°å·²ç»è¶…è¿‡ 1000 ä¸ªIDCï¼Œè¿™è®©è‡ªå»º CDN æœ›å°˜è«åŠã€‚æˆ‘ä»¬ä¸é‡æ–°å‘æ˜è½®å­ã€‚ä½†æˆ‘ä»¬è¦è®© CDN ä»é«˜ç«¯èµ°å‘å¹³æ°‘ã€‚ä¸ºä»€ä¹ˆåªèƒ½å¤§å…¬å¸æ‰èƒ½äº«å— CDN å¸¦æ¥çš„å¥½å¤„ï¼Ÿæœ‰äº†ä¸ƒç‰›ï¼Œä½ å°±æ˜¯ä¸ªåšå®¢ä¸»ä¹Ÿå¯ä»¥äº«å—é«˜å“è´¨çš„å¿«æ„Ÿã€‚ä¸ƒç‰›è¿˜å¸®ä½ åšäº†æ™ºèƒ½çš„ CDN å“è´¨ç›‘æµ‹ã€‚ä¸‡ä¸€æŸå®¶ CDN å‡ºç°å±€éƒ¨èŠ‚ç‚¹é—®é¢˜æ—¶ï¼Œä¸ƒç‰›è¿˜èƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ æŠŠè¯¥åŒºåŸŸåˆ‡æ¢åˆ°å¦ä¸€å®¶ CDNï¼Œæ•´ä¸ªè¿‡ç¨‹é€æ˜ï¼Œè®©ä½ çœæ—¶çœå¿ƒã€‚</li>
<li>ç‹¬ç‰¹çš„é•œåƒå­˜å‚¨ï¼Œä½“éªŒä¸ƒç‰›äº‘å­˜å‚¨åªéœ€ä¸€é”®ã€‚</li>
<li>æµåª’ä½“ï¼ˆéŸ³è§†é¢‘å¤„ç†ï¼‰æ”¯æŒã€‚è¿™ä¸ªç›®å‰å›½å†…äº‘å­˜å‚¨ä¹Ÿæ˜¯é¦–å®¶ã€‚æ‚„æ‚„å‘Šè¯‰ä½ ï¼Œæœ€è¿‘éŸ³è§†é¢‘æ”¯æŒè¿˜ä¼šé‡å¤§æ›´æ–°å“¦ã€‚</li>
<li>æ•°æ®å¤„ç†åŠŸèƒ½çš„çº§è”ï¼ˆä¹Ÿå°±æ˜¯ç®¡é“ï¼‰ã€‚å›¾ç‰‡å…ˆç¼©ç•¥å†æ‰“æ°´å°ï¼Œæ˜¯ç®¡é“åŠŸèƒ½çš„å…¸å‹æ¡ˆä¾‹ã€‚</li>
<li>å¤§æ–‡ä»¶æ”¯æŒã€‚ä¸ƒç‰›äº‘å­˜å‚¨å•æ–‡ä»¶æœ€å¤§æ”¯æŒåˆ°1TBã€‚<br>æ›´å¤šç‰¹æ€§ä»‹ç»ï¼Œè¯·è®¿é—® <a href="http://www.qiniu.com/" target="_blank" rel="external">http://www.qiniu.com/</a>, <a href="http://docs.qiniu.com/" target="_blank" rel="external">http://docs.qiniu.com/</a> ã€‚ä¹Ÿå¯ä»¥åˆ° <a href="https://portal.qiniu.com/" target="_blank" rel="external">https://portal.qiniu.com/</a> ç›´æ¥æ¥ä½“éªŒã€‚</li>
<li>ä¸ƒç‰›è¿˜æä¾›å…è´¹çš„ 10G å­˜å‚¨å’Œ 10G å…è´¹ä¸‹è½½æµé‡ï¼Œæ¯ä¸ªæœˆéƒ½æœ‰å“¦ã€‚</li>
<li>ä¸ƒç‰›è¿˜æ˜¯å¼ºå¤§çš„æœåŠ¡æ”¯æŒå›¢é˜Ÿï¼Œç”µè¯æˆ–è€…å·¥å•ç›´æ¥å¤„ç†é—®é¢˜ã€‚</li>
</ul>
</blockquote>
<h2 id="é…ç½®è¿‡ç¨‹"><a href="#é…ç½®è¿‡ç¨‹" class="headerlink" title="é…ç½®è¿‡ç¨‹"></a>é…ç½®è¿‡ç¨‹</h2><h3 id="é™æ€æ–‡ä»¶ç”Ÿæˆä½ç½®"><a href="#é™æ€æ–‡ä»¶ç”Ÿæˆä½ç½®" class="headerlink" title="é™æ€æ–‡ä»¶ç”Ÿæˆä½ç½®"></a>é™æ€æ–‡ä»¶ç”Ÿæˆä½ç½®</h3><p>é¦–å…ˆè¿›å…¥åˆ°æˆ‘ä»¬çš„åšå®¢æ–‡ä»¶å¤¹ï¼Œæˆ‘çš„æ˜¯åœ¨<code>~/Document/hexo/newblog</code><br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">cd ~/Document/hexo/<span class="keyword">new</span><span class="type">blog</span></div><div class="line"></div><div class="line">hexo clean</div><div class="line"></div><div class="line">hexo d</div></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œå®Œæˆä¹‹åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹å‘ç°ä¸€ä¸ª<code>public/</code>çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹é‡Œéƒ½æ˜¯<code>.html</code>çš„é™æ€åšå®¢é¡µé¢</p>
<h3 id="å¦‚ä½•ä¸Šä¼ åˆ°ä¸ƒç‰›"><a href="#å¦‚ä½•ä¸Šä¼ åˆ°ä¸ƒç‰›" class="headerlink" title="å¦‚ä½•ä¸Šä¼ åˆ°ä¸ƒç‰›"></a>å¦‚ä½•ä¸Šä¼ åˆ°ä¸ƒç‰›</h3><h4 id="é¦–å…ˆæ³¨å†Œä¸ƒç‰›è´¦å·"><a href="#é¦–å…ˆæ³¨å†Œä¸ƒç‰›è´¦å·" class="headerlink" title="é¦–å…ˆæ³¨å†Œä¸ƒç‰›è´¦å·"></a>é¦–å…ˆæ³¨å†Œä¸ƒç‰›è´¦å·</h4><p><img src="https://upload.bz1.me/portal.png" alt=""><br><a href="https://portal.qiniu.com/signup/choice" target="_blank" rel="external">ä¸ƒç‰›ä¼ é€é—¨,ç‚¹æˆ‘ç›´æ¥è¿›å…¥ä¸ƒç‰›æ³¨å†Œé¡µé¢</a></p>
<p><img src="https://upload.bz1.me/portal2.png" alt=""><br>æŒ‰ç…§å¡«å†™åï¼Œéœ€è¦ç™»å½•è‡ªå·±çš„é‚®ç®±è¿›è¡Œæ¿€æ´»ï¼Œå¦‚æœé‚®ç®±å†…æ‰¾ä¸åˆ°é‚®ä»¶ï¼Œå¯ä»¥å»åƒåœ¾ç®±çœ‹çœ‹ï¼Œå¦‚æœåƒåœ¾ç®±ä¹Ÿæ²¡æœ‰ï¼Œä¸€èˆ¬å¯èƒ½æ˜¯é‚®ä»¶å‘é€ä½ çš„é‚®ç®±å¤±è´¥ï¼Œè¢«æ‹’ç»æˆ–è€…å…¶ä»–åŸå› ï¼Œæ­¤æ—¶å¯ä»¥æ‹¨æ‰“ 400-808-9176 æ¿€æ´»ï¼Œæˆ–è€…æäº¤ä¸€ä¸ª<a href="https://support.qiniu.com/question" target="_blank" rel="external">å·¥å•</a>æ¥æ¿€æ´»ã€‚</p>
<h4 id="å®åè®¤è¯"><a href="#å®åè®¤è¯" class="headerlink" title="å®åè®¤è¯"></a>å®åè®¤è¯</h4><p>â­ï¸ å¿…é¡»è¦å®åè®¤è¯ï¼Œå¦åˆ™åªæœ‰ 1G å…è´¹é¢åº¦ï¼Œä¸Šä¼ æ–‡ä»¶ç±»å‹ä¹Ÿä¼šæœ‰é™åˆ¶ï¼Œå¦åˆ™æŠ¥é”™ â€œlimited mimeTypeâ€</p>
<h4 id="åˆ›å»ºå¯¹è±¡å­˜å‚¨ç©ºé—´"><a href="#åˆ›å»ºå¯¹è±¡å­˜å‚¨ç©ºé—´" class="headerlink" title="åˆ›å»ºå¯¹è±¡å­˜å‚¨ç©ºé—´"></a>åˆ›å»ºå¯¹è±¡å­˜å‚¨ç©ºé—´</h4><p>å­˜å‚¨ç©ºé—´åœ¨ä¸ƒç‰›ï¼Œç§°ä¸º<code>bucket</code>ï¼Œæˆ‘ä»¬éœ€è¦å…ˆæ–°å»ºä¸€ä¸ª<code>bucket</code><br><img src="https://upload.bz1.me/portal_create.png" alt=""></p>
<p><img src="https://upload.bz1.me/portal_bucket1.png" alt=""><br>è¿™é‡Œåˆ›å»ºå¥½ä¹‹åï¼Œä¸œè¥¿å°±å¯ä»¥å¾€è¿™ä¸ªåœ°æ–¹è¿›è¡Œå­˜å‚¨äº†ã€‚</p>
<h4 id="æµ‹è¯•ä¸€ä¸‹ä¸Šä¼ "><a href="#æµ‹è¯•ä¸€ä¸‹ä¸Šä¼ " class="headerlink" title="æµ‹è¯•ä¸€ä¸‹ä¸Šä¼ "></a>æµ‹è¯•ä¸€ä¸‹ä¸Šä¼ </h4><p>ç‚¹å‡»<code>æ›´å¤šæ“ä½œ</code>â€“&gt;<code>å†…å®¹ç®¡ç†</code><br><img src="https://upload.bz1.me/portal_neirong.png" alt=""></p>
<p>ç‚¹å‡»<code>ä¸Šä¼ æ–‡ä»¶</code>éšä¾¿é€‰æ‹©æœ¬åœ°çš„ä¸€ä¸ª<code>å°äº500M</code>çš„æ–‡ä»¶æ¥ä¸Šä¼ è‡³ä¸ƒç‰›<br><img src="https://upload.bz1.me/portal_upload.png" alt=""></p>
<p>ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶åˆ°ä¸ƒç‰›<br><img src="https://upload.bz1.me/portal_upload2.png" alt=""></p>
<p>è¿™ä¸ªæ—¶å€™åœ¨ä¸ƒç‰›çš„å­˜å‚¨ç©ºé—´å°±çœ‹åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œç‚¹å‡»<code>å¤åˆ¶å¤–é“¾</code>ï¼Œç„¶åå¤åˆ¶è´´è¿›æµè§ˆå™¨è®¿é—®<br><img src="https://upload.bz1.me/portal_upload3.png" alt="ç©ºé—´æˆªå›¾"><br><img src="https://upload.bz1.me/portal_upload4.png" alt="safriè®¿é—®æˆªå›¾"></p>
<p>å¦‚æœè®¿é—®æˆåŠŸï¼Œè¯´æ˜ä½ å¯ä»¥æ­£å¸¸ä½¿ç”¨ä¸ƒç‰›çš„äº‘å­˜å‚¨æœåŠ¡äº†ã€‚</p>
<h4 id="ç”¨å‘½ä»¤è¡Œå®ç°æ‰¹é‡ä¸Šä¼ "><a href="#ç”¨å‘½ä»¤è¡Œå®ç°æ‰¹é‡ä¸Šä¼ " class="headerlink" title="ç”¨å‘½ä»¤è¡Œå®ç°æ‰¹é‡ä¸Šä¼ "></a>ç”¨å‘½ä»¤è¡Œå®ç°æ‰¹é‡ä¸Šä¼ </h4><p>é‚£ä¹ˆå‰ç«¯è¿™æ ·ä¸€ä¸ªä¸€ä¸ªä¼ åˆ°ä¸ƒç‰›ï¼Œæˆ–è€…æ‰¹é‡å…¨é€‰ï¼ŒæŠŠ<code>public/</code>æ–‡ä»¶å¤¹çš„æ‰€æœ‰å†…å®¹åœ¨é¡µé¢ä¸Šæ‰¹é‡é€‰ä¸­ä¸Šä¼ ï¼Œæ˜¯ä¸æ˜¯ä¸€ç‚¹éƒ½ä¸é…·ï¼Œå†™ä¸ªåšå®¢è¿˜è¦æ‰‹åŠ¨åˆ°è¿™é‡Œä¸Šä¼ ï¼Œä¸æ„¿æ„è¿™ä¹ˆåšï¼Œé‚£ä¹ˆè¿˜æ˜¯æœ‰ä»€ä¹ˆæ–¹å¼ä¸Šä¼ åˆ°ä¸ƒç‰›å‘¢ï¼Ÿ</p>
<ul>
<li><a href="http://developer.qiniu.com/resource/official.html#sdk" target="_blank" rel="external">sdkä¸Šä¼ </a></li>
<li><a href="http://developer.qiniu.com/code/v6/tool/qshell.html" target="_blank" rel="external">å·¥å…·ä¸Šä¼ </a><br>è¿™é‡Œï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨å·¥å…·ä¸Šä¼ ï¼Œç¬¬ä¸€èŠ‚çœäº† sdk å¼€å‘æ—¶é—´(æƒ³æçš„è¯ä¹Ÿæ˜¯å¢™è£‚æ¨èçš„)ï¼Œç¬¬äºŒç”¨çš„å‘½ä»¤è¡Œå·¥å…·ä¸Šä¼ ï¼Œé€Ÿåº¦å¿«è€Œä¸”åŠŸèƒ½å¼ºå¤§ï¼Œä¸ƒç‰›æä¾›å„ç§ä¸Šä¼ å·¥å…·ï¼Œæœ¬äººæ¯”è¾ƒåå‘ qshell å·¥å…·ï¼Œè¿™é‡Œæ¨è qshell</li>
</ul>
<h5 id="qshellå·¥å…·ä¸‹è½½"><a href="#qshellå·¥å…·ä¸‹è½½" class="headerlink" title="qshellå·¥å…·ä¸‹è½½"></a>qshellå·¥å…·ä¸‹è½½</h5><ul>
<li><a href="https://upload.bz1.me/qshell" target="_blank" rel="external">macç‰ˆæœ¬</a></li>
<li><a href="https://upload.bz1.me/qshell-ubuntu" target="_blank" rel="external">ubuntu&amp;centosç‰ˆæœ¬</a></li>
</ul>
<h5 id="qshellå·¥å…·é…ç½®"><a href="#qshellå·¥å…·é…ç½®" class="headerlink" title="qshellå·¥å…·é…ç½®"></a>qshellå·¥å…·é…ç½®</h5><p>å…ˆæœ¬åœ°ä¸‹è½½ qshell<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">wget</span> <span class="string">'https://upload.bz1.me/qshell'</span></div></pre></td></tr></table></figure></p>
<p>ä¿®æ”¹ä¸€ä¸‹å·¥å…·æƒé™<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chmod <span class="number">755</span> qshell</div></pre></td></tr></table></figure></p>
<p>æ”¾åˆ°ç¯å¢ƒå˜é‡ä¸­<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mv qshell <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span></div></pre></td></tr></table></figure></p>
<p>æ–°å»ºä¸€ä¸ª<code>terminal</code>çª—å£<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">qshell -h</span></div></pre></td></tr></table></figure></p>
<p>å¦‚æœçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œè¯æ˜å¯ç”¨äº†<br><img src="https://upload.bz1.me/portal_qshell.png" alt=""></p>
<p>ç™»é™† qshellè¿™é‡Œçš„ <code>AK</code> <code>SK</code> åœ¨ä¸ƒç‰›æ§åˆ¶å°çš„ä¸ªäººé¢æ¿ä¸­è·å–<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">qshell account <span class="tag">&lt;<span class="name">AK</span>&gt;</span> <span class="tag">&lt;<span class="name">SK</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><code>AK</code> <code>SK</code> ä½ç½®æˆªå›¾å¦‚ä¸‹<br><img src="https://upload.bz1.me/portal_akskmi.png" alt=""><br><img src="https://upload.bz1.me/portal_aksk2.png" alt="aksk"></p>
<p>ç„¶åæŸ¥çœ‹ä¸‹ç™»é™†<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">qshell account</span></div></pre></td></tr></table></figure></p>
<p>æ­£ç¡®çš„å°±æ˜¯ä¸ªæ•ˆæœ<br><img src="https://upload.bz1.me/portal_aksk3.png" alt=""></p>
<h5 id="qshelléƒ¨ç½²ä½ çš„åšå®¢è¿›å…¥ä¸ƒç‰›ç©ºé—´"><a href="#qshelléƒ¨ç½²ä½ çš„åšå®¢è¿›å…¥ä¸ƒç‰›ç©ºé—´" class="headerlink" title="qshelléƒ¨ç½²ä½ çš„åšå®¢è¿›å…¥ä¸ƒç‰›ç©ºé—´"></a>qshelléƒ¨ç½²ä½ çš„åšå®¢è¿›å…¥ä¸ƒç‰›ç©ºé—´</h5><p>ç„¶åè¿›å…¥ä½ çš„ <code>public/</code>çš„æ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºä¸€ä¸ª qshell ä¸Šä¼ æ‰¹é‡ä¸Šä¼ çš„é…ç½®æ–‡ä»¶(ç”¨æ¥å‘Šè¯‰ qshellï¼Œä¸Šä¼ å“ªäº›æ–‡ä»¶ï¼Œæœ‰å“ªäº›ä¸Šä¼ ç­–ç•¥)<br><figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd ~/Document/hexo/<span class="keyword">new</span><span class="type">blog</span></div><div class="line"></div><div class="line">touch upload.txt</div></pre></td></tr></table></figure></p>
<p>ç¼–è¾‘<code>upload.txt</code>æ–‡ä»¶ï¼ŒæŒ‰ç…§æˆ‘çš„é…ç½®æ¥å°±å¯ä»¥åŸºæœ¬äº‹ä»¶è¦†ç›–é‡å†™ç­‰è§„åˆ™ï¼Œè¯¦ç»†çš„å¯ä»¥å‚è€ƒï¼Œ<a href="https://github.com/qiniu/qshell/wiki/qupload" target="_blank" rel="external">qupload</a><br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">vim</span> <span class="selector-tag">upload</span><span class="selector-class">.txt</span></div></pre></td></tr></table></figure></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   <span class="attr">"src_dir"</span>            :   <span class="string">"è¿™é‡Œå¡«å†™publicåœ¨æœ¬åœ°çš„ç»å¯¹è·¯å¾„"</span>,</div><div class="line">   <span class="attr">"access_key"</span>         :   <span class="string">"è¿™é‡Œå¡«å†™AK"</span>,</div><div class="line">   <span class="attr">"secret_key"</span>         :   <span class="string">"è¿™é‡Œå¡«å†™SK"</span>,</div><div class="line">   <span class="attr">"bucket"</span>             :   <span class="string">"è¿™é‡Œå¡«å†™ä¸ƒç‰›å­˜å‚¨ç©ºé—´åï¼Œåˆšæ‰æˆ‘æ–°å»ºçš„å«åšmyblog"</span>,</div><div class="line">   <span class="attr">"zone"</span>               :   <span class="string">"nb"</span>,</div><div class="line">   <span class="attr">"ignore_dir"</span>         :   <span class="literal">false</span>,</div><div class="line">   <span class="attr">"overwrite"</span>          :   <span class="literal">true</span>,</div><div class="line">   <span class="attr">"check_exists"</span>       :   <span class="literal">false</span>,</div><div class="line">   <span class="attr">"rescan_local"</span>       :   <span class="literal">true</span>,</div><div class="line">   <span class="attr">"check_hash"</span>         :   <span class="literal">true</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç¼–è¾‘å¥½ä¹‹åä¿å­˜ï¼Œç„¶åæœ¬åœ°å…ˆç”Ÿæˆé™æ€æ–‡ä»¶<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo clean</span></div><div class="line"></div><div class="line">hexo deploy</div></pre></td></tr></table></figure></p>
<p>ç”Ÿæˆå¥½ä¹‹åï¼Œæ‰§è¡Œä¸Šä¼ å‘½ä»¤<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">qshell</span> <span class="selector-tag">qupload</span> <span class="selector-tag">upload</span><span class="selector-class">.txt</span></div></pre></td></tr></table></figure></p>
<p>çœ‹åˆ°è¿™ä¸ªæ ·å­ï¼Œå‘ç°æ€»å…± n ä¸ªæ–‡ä»¶ï¼ŒæˆåŠŸäº† n ä¸ªæ–‡ä»¶ï¼Œå¤±è´¥ 0 ä¸ªï¼Œå°± ok äº†</p>
<ul>
<li>å¦‚æœæŠ¥é”™â€limited mimeTypeâ€,è¯·å…ˆå®åè®¤è¯ï¼Œæ–‡ä»¶ç±»å‹ä¸Šä¼ æœ‰é™åˆ¶ã€‚<br><img src="https://upload.bz1.me/portal_qupload.png" alt=""></li>
</ul>
<h3 id="ç»†èŠ‚ä¿®æ”¹å’Œæµ‹è¯•"><a href="#ç»†èŠ‚ä¿®æ”¹å’Œæµ‹è¯•" class="headerlink" title="ç»†èŠ‚ä¿®æ”¹å’Œæµ‹è¯•"></a>ç»†èŠ‚ä¿®æ”¹å’Œæµ‹è¯•</h3><p>ç„¶åæˆ‘ä»¬éœ€è¦åˆ°ä¸ƒç‰›ä¿®æ”¹ä¸€ä¸‹é»˜è®¤é¦–é¡µæ˜¾ç¤ºï¼Œå› ä¸ºä¸ƒç‰›ç©ºé—´å…è®¸å­˜åœ¨æ— å‘½åçš„ç©ºæ–‡ä»¶ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½çŸ¥é“è®¿é—®ä¸€ä¸ªç«™ç‚¹çš„æ—¶å€™ï¼Œè™½ç„¶è¾“å…¥ç½‘å€æ˜¯ <a href="https://www.bz1.me/ï¼Œå®é™…ä¸Šè®¿é—®çš„æ˜¯">https://www.bz1.me/ï¼Œå®é™…ä¸Šè®¿é—®çš„æ˜¯</a> <a href="https://www.bz1.me/index.html">https://www.bz1.me/index.html</a><br><img src="https://upload.bz1.me/portal_kjsz.png" alt=""><br><img src="https://upload.bz1.me/portal_index.png" alt=""><br>å¼€å¯ä¹‹åï¼Œå°±å¯ä»¥ç”¨ç©ºé—´è‡ªå¸¦çš„æµ‹è¯•åŸŸåå¯¹åšå®¢è¿›è¡Œè®¿é—®å•¦ï¼ŒåŸŸååœ¨è¿™é‡Œ<br><img src="https://upload.bz1.me/portal_ceshiyuming.png" alt=""><br>ç„¶ååˆ°æµè§ˆå™¨ä¸­ï¼Œç›´æ¥å°†æµ‹è¯•åŸŸåè´´è¿›å»ï¼Œè®¿é—®çœ‹çœ‹<br><img src="https://upload.bz1.me/portal_blogcesh.png" alt=""></p>
<h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><ul>
<li><a href="">ä¸€é”®éƒ¨ç½²å¹¶åˆ·æ–° CDN ç¼“å­˜</a></li>
<li>è‡ªå®šä¹‰åŸŸåï¼Œä½¿ç”¨ cdn.bz1.me è®¿é—®</li>
<li>https æ”¯æŒï¼Œä½¿ç”¨ <a href="https://www.bz1.me">https://www.bz1.me</a> è®¿é—®</li>
<li>é˜…è¯»æ¬¡æ•°ç»Ÿè®¡</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æŒ‰ç…§é“ç†ï¼Œæˆ‘å…ˆæ¥æ‰¯ä¸€å †æ²¡ç”¨çš„ä¸œè¥¿&lt;/p&gt;
&lt;p&gt;æœ€è¿‘å‡†å¤‡å¼€å§‹å­¦ä¹ å†™åšå®¢ï¼Œå†™åšå®¢é¦–å…ˆå°±æ˜¯è€ƒè™‘åšå®¢çš„æ‰˜ç®¡ï¼Œæ˜¯åœ¨ä»€ä¹ˆåœ°æ–¹å†™å¥½å‘¢ï¼Ÿå°è¯•äº†å¾ˆå¤šï¼Œæ¯”å¦‚ CSDNã€åšå®¢å›­ã€ç®€ä¹¦ç­‰ç­‰ï¼Œå†æ—©ä¸€äº›è¿˜ç©è¿‡ wordpressï¼Œä½†æ˜¯æ€»è§‰å¾—ä¸å¤Ÿå¥½ç”¨ï¼Œä¹Ÿä¸å¤Ÿç¾è§‚(å¯èƒ½æ˜¯æˆ‘æ¯”è¾ƒæŒ‘å‰”ï¼Œè¯´ç™½äº†å°±æ˜¯äº‹å„¿å¤š)ã€‚åæ¥æ¥è§¦åˆ°äº† hexoï¼ŒçœŸå¿ƒç®€æ´ç¾è§‚ï¼Œä¸€çœ¼çœ‹åˆ°å°±å®šå¿ƒé‡Œå»äº†ï¼Œäºæ˜¯ä¹ç€æ‰‹æäº†èµ·æ¥â€¦&lt;/p&gt;
&lt;p&gt;æœ€å¼€å§‹è·Ÿç€&lt;a href=&quot;https://hexo.io/docs/&quot;&gt;å®˜ç½‘æ•™ç¨‹&lt;/a&gt;ï¼Œè¯»äº†åŠå¤©ä¹Ÿæ²¡çœ‹æ‡‚åˆ°åº•æ˜¯æ€ä¹ˆä¸€ä¸ªé€»è¾‘ï¼Œåæ¥ google æŸ¥äº†å¥½ä¹…æ‰çŸ¥é“åŸæ¥æ˜¯&lt;code&gt;æœ¬åœ°ç”Ÿæˆé™æ€é¡µé¢ï¼Œç„¶å push åˆ° github&lt;/code&gt;ï¼Œäº†è§£è¿™ä¸ªï¼Œå°±è·Ÿç€æ•™ç¨‹å’Œ google æ¥çš„å¤§ç¥ä¸€æ­¥æ­¥åšï¼Œå¾ˆå¿«ä¹Ÿå°±éƒ¨ç½²ä¸Šå»äº†ï¼Œéƒ¨ç½²ç½® github çš„è¿‡ç¨‹æˆ‘å°±ä¸è¯´äº†ï¼Œç›´æ¥è´´å…¶ä»–åšä¸»çš„å¤–é“¾ä¾›å‚è€ƒå§ï¼Œéƒ½æ˜¯æºœæºœçš„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cylong.com/blog/2016/04/19/hexo-git/&quot;&gt;ç¬‘è¯äººç”Ÿ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ehlxr.me/2016/07/23/%E4%BD%BF%E7%94%A8Hexo%E5%9F%BA%E4%BA%8EGitHub-Pages%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%EF%BC%88%E4%B8%80%EF%BC%89/&quot;&gt;Ehlxrâ€™s Blog&lt;/a&gt;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="hexo" scheme="https://www.bz1.me/tags/hexo/"/>
    
      <category term="qshell" scheme="https://www.bz1.me/tags/qshell/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºä¸ƒç‰›æ¨æ‹‰æµåœ°å€</title>
    <link href="https://www.bz1.me/%E5%85%B3%E4%BA%8E%E4%B8%83%E7%89%9B%E6%8E%A8%E6%8B%89%E6%B5%81%E5%9C%B0%E5%9D%80.html"/>
    <id>https://www.bz1.me/å…³äºä¸ƒç‰›æ¨æ‹‰æµåœ°å€.html</id>
    <published>2016-12-15T02:41:00.000Z</published>
    <updated>2016-12-18T02:46:06.000Z</updated>
    
    <content type="html"><![CDATA[<ul>
<li>publish-domain : pili-publish.baozijian.cc</li>
<li>rtmp-pull-domain : pili-live-rtmp.baozijian.cc</li>
<li>hls-pull-domain : pili-live-hls.baozijian.cc</li>
<li>flv-pull-domain : pili-live-hdl.baozijian.cc</li>
<li>hub : tron</li>
<li>title : baozijian</li>
<li>key : baozijian</li>
</ul>
<h3 id="å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€"><a href="#å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€" class="headerlink" title="å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€"></a>å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€</h3><p>é™æ€é‰´æƒæ¨æµåœ°å€ä¸¾ä¾‹<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp:<span class="regexp">//</span>pili-publish.baozijian.cc<span class="regexp">/tron/</span>baozijian?key=baozijian</div></pre></td></tr></table></figure></p>
<p>å…¶ä»–æ ¼å¼é‰´æƒæ’­æ”¾åœ°å€æ ¼å¼è¯·å‚è€ƒï¼š<a href="https://www.bz1.me/%E4%B8%83%E7%89%9B%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81%E9%89%B4%E6%9D%83.html">ä¸ƒç‰›ç›´æ’­æ¨æµé‰´æƒ</a></p>
<p>è¿™ä¸ªæ¨æµåœ°å€æ˜¯æœ‰å›ºå®šçš„ç»„æˆæ ¼å¼ï¼Œæ ¼å¼å¦‚ä¸‹<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp://<span class="tag">&lt;<span class="name">publish-domain</span>&gt;</span>/<span class="tag">&lt;<span class="name">hub</span>&gt;</span>/<span class="tag">&lt;<span class="name">tilte</span>&gt;</span>?key=<span class="tag">&lt;<span class="name">key</span>&gt;</span></div></pre></td></tr></table></figure></p>
<a id="more"></a>
<h3 id="å…³äºä¸ƒç‰›çš„æ‹‰æµåœ°å€"><a href="#å…³äºä¸ƒç‰›çš„æ‹‰æµåœ°å€" class="headerlink" title="å…³äºä¸ƒç‰›çš„æ‹‰æµåœ°å€"></a>å…³äºä¸ƒç‰›çš„æ‹‰æµåœ°å€</h3><p>æ’­æ”¾åœ°å€ä¸¾ä¾‹<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># rtmp æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">rtmp:<span class="regexp">//</span>pili-live-rtmp.baozijian.cc<span class="regexp">/tron/</span>baozijian</div><div class="line"></div><div class="line"><span class="comment"># hls æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">http:<span class="regexp">//</span>pili-live-hls.baozijian.cc<span class="regexp">/tron/</span>baozijian.m3u8</div><div class="line"></div><div class="line"><span class="comment"># flv æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">http:<span class="regexp">//</span>pili-live-hdl.baozijian.cc<span class="regexp">/tron/</span>baozijian.flv</div></pre></td></tr></table></figure></p>
<p>å¯¹åº”çš„æ’­æ”¾åœ°å€çš„æ ¼å¼ï¼š<br><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># rtmp æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">rtmp://<span class="variable">&lt;rtmp-pull-domain&gt;</span>/<span class="variable">&lt;hub&gt;</span>/<span class="variable">&lt;tilte&gt;</span></div><div class="line"></div><div class="line"><span class="comment"># hls æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">http://<span class="variable">&lt;hls-pull-domain&gt;</span>/<span class="variable">&lt;hub&gt;</span>/<span class="variable">&lt;tilte&gt;</span>.m3u8</div><div class="line"></div><div class="line"><span class="comment"># flv æ’­æ”¾åœ°å€ï¼š</span></div><div class="line">http://<span class="variable">&lt;flv-pull-domain&gt;</span>/<span class="variable">&lt;hub&gt;</span>/<span class="variable">&lt;title&gt;</span>.flv</div></pre></td></tr></table></figure></p>
<p><img src="https://upload.bz1.me/bloghub2.png" alt=""></p>
]]></content>
    
    <summary type="html">
    
      &lt;ul&gt;
&lt;li&gt;publish-domain : pili-publish.baozijian.cc&lt;/li&gt;
&lt;li&gt;rtmp-pull-domain : pili-live-rtmp.baozijian.cc&lt;/li&gt;
&lt;li&gt;hls-pull-domain : pili-live-hls.baozijian.cc&lt;/li&gt;
&lt;li&gt;flv-pull-domain : pili-live-hdl.baozijian.cc&lt;/li&gt;
&lt;li&gt;hub : tron&lt;/li&gt;
&lt;li&gt;title : baozijian&lt;/li&gt;
&lt;li&gt;key : baozijian&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€&quot;&gt;&lt;a href=&quot;#å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€&quot; class=&quot;headerlink&quot; title=&quot;å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€&quot;&gt;&lt;/a&gt;å…³äºä¸ƒç‰›çš„æ¨æµåœ°å€&lt;/h3&gt;&lt;p&gt;é™æ€é‰´æƒæ¨æµåœ°å€ä¸¾ä¾‹&lt;br&gt;&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;rtmp:&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;pili-publish.baozijian.cc&lt;span class=&quot;regexp&quot;&gt;/tron/&lt;/span&gt;baozijian?key=baozijian&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–æ ¼å¼é‰´æƒæ’­æ”¾åœ°å€æ ¼å¼è¯·å‚è€ƒï¼š&lt;a href=&quot;https://www.bz1.me/%E4%B8%83%E7%89%9B%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81%E9%89%B4%E6%9D%83.html&quot;&gt;ä¸ƒç‰›ç›´æ’­æ¨æµé‰´æƒ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ¨æµåœ°å€æ˜¯æœ‰å›ºå®šçš„ç»„æˆæ ¼å¼ï¼Œæ ¼å¼å¦‚ä¸‹&lt;br&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;rtmp://&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;publish-domain&lt;/span&gt;&amp;gt;&lt;/span&gt;/&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;hub&lt;/span&gt;&amp;gt;&lt;/span&gt;/&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;tilte&lt;/span&gt;&amp;gt;&lt;/span&gt;?key=&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;key&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
      <category term="docs" scheme="https://www.bz1.me/tags/docs/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ƒç‰›ç›´æ’­æ¨æµé‰´æƒ</title>
    <link href="https://www.bz1.me/%E4%B8%83%E7%89%9B%E7%9B%B4%E6%92%AD%E6%8E%A8%E6%B5%81%E9%89%B4%E6%9D%83.html"/>
    <id>https://www.bz1.me/ä¸ƒç‰›ç›´æ’­æ¨æµé‰´æƒ.html</id>
    <published>2016-12-12T07:41:13.000Z</published>
    <updated>2016-12-12T08:19:36.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å››ç§é‰´æƒæ–¹å¼"><a href="#å››ç§é‰´æƒæ–¹å¼" class="headerlink" title="å››ç§é‰´æƒæ–¹å¼"></a>å››ç§é‰´æƒæ–¹å¼</h3><h4 id="1-static-é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰"><a href="#1-static-é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰" class="headerlink" title="1. static é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰"></a>1. static é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰</h4><figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp://<span class="built_in">domain</span>/hub/<span class="built_in">title</span>?<span class="built_in">key</span>=&#123;å¯ä»¥æ›´æ”¹çš„<span class="built_in">key</span>&#125;</div></pre></td></tr></table></figure>
<p>å¯ä»¥é’ˆå¯¹æŸä¸ªæµæ¥è®¾ç½®è¿™ç±»é‰´æƒ</p>
<h4 id="2-dynamic-åŠ¨æ€æ ¡éªŒï¼ˆå¼ºé‰´æƒï¼‰"><a href="#2-dynamic-åŠ¨æ€æ ¡éªŒï¼ˆå¼ºé‰´æƒï¼‰" class="headerlink" title="2. dynamic åŠ¨æ€æ ¡éªŒï¼ˆå¼ºé‰´æƒï¼‰"></a>2. dynamic åŠ¨æ€æ ¡éªŒï¼ˆå¼ºé‰´æƒï¼‰</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp:<span class="regexp">//</span>domain<span class="regexp">/hub/</span>title?nonce=&#123;è‡ªå®šä¹‰æŸä¸ªæ—¶é—´æˆ³&#125;&amp;token=&#123;publishToken&#125;</div></pre></td></tr></table></figure>
<p>è¿™ç§é‰´æƒï¼Œæ¨æµåœ°å€åªèƒ½ç”¨ä¸€æ¬¡ï¼Œå¦‚æœä½¿ç”¨è¿‡äº†ä¸€æ¬¡åï¼Œéœ€è¦é‡æ–°ç­¾ç®—ï¼Œå¯ä»¥é’ˆå¯¹æŸä¸ªæµæ¥è®¾ç½®</p>
<h4 id="3-expiry-æ—¶é—´æˆ³é‰´æƒ"><a href="#3-expiry-æ—¶é—´æˆ³é‰´æƒ" class="headerlink" title="3. expiry æ—¶é—´æˆ³é‰´æƒ"></a>3. expiry æ—¶é—´æˆ³é‰´æƒ</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp:<span class="regexp">//</span>domain<span class="regexp">/hub/</span>title?expire=&#123;è‡ªå®šä¹‰æŸä¸ªæ—¶é—´æˆ³&#125;&amp;token=&#123;publishToken&#125;</div></pre></td></tr></table></figure>
<p>è¿™ç§æ˜¯åœ¨æŒ‡å®šçš„æ—¶é—´æˆ³å†…ï¼Œå¯ä»¥æ¨æµã€‚éœ€è¦é’ˆå¯¹hubæ¥è®¾ç½®æ­¤ç±»é‰´æƒï¼Œå³hubå†…æ‰€æœ‰æµéƒ½æ˜¯expireé‰´æƒã€‚</p>
<h4 id="4-none-é‰´æƒ"><a href="#4-none-é‰´æƒ" class="headerlink" title="4.none é‰´æƒ"></a>4.none é‰´æƒ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rtmp://<span class="tag">&lt;<span class="name">push_domain</span>&gt;</span>/<span class="tag">&lt;<span class="name">hub</span>&gt;</span>/<span class="tag">&lt;<span class="name">title</span>&gt;</span></div></pre></td></tr></table></figure>
<p>è¿™ç§é‰´æƒæ–¹å¼ç§°ä¸ºæ— æ ¡éªŒé‰´æƒï¼Œä¸é™æ—¶é—´ä¹Ÿæ— æ ¡éªŒ</p>
<p>â­ï¸æ³¨æ„ï¼šç›®å‰æ‰‹æœºç«¯æ¨æµ æ”¯æŒ static å’Œ dynamic ä¸¤ç§é‰´æƒ</p>
<h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><ul>
<li>title: æµåï¼Œtitle æ˜¯ 1-200 ä¸ªå­—ç¬¦ï¼Œè‹±æ–‡+æ•°å­—ç»„æˆï¼Œtitle æ ¼å¼è¦æ±‚ï¼š^[a-zA-Z0-9_-]{4,100}$ ï¼Œtitleä¸èƒ½é‡å¤</li>
<li>publishKeyï¼šæµå¯†é’¥ï¼Œ1-200 ä¸ªå­—ç¬¦ï¼Œè‹±æ–‡+æ•°å­—ç»„æˆï¼ŒpublishKey æ ¼å¼è¦æ±‚ï¼š^[a-zA-Z0-9_-]{4,100}$ ï¼Œå¯ä»¥é‡å¤</li>
<li>publishSecurityï¼š é‰´æƒæ–¹å¼ï¼Œå¦‚ä¸Šå››ç§ï¼Œç›®å‰æ‰‹æœºç«¯æ¨æµï¼Œä»…æ”¯æŒ static dynamic </li>
<li>PublishSecurity é‰´æƒæ–¹å¼ï¼šå³é‰´æƒæ–¹å¼ã€‚å†³å®šäº†æ¨æµåœ°å€çš„æœ‰æ•ˆæ€§å’Œåˆæ³•æ€§ã€‚æ˜¯åº”ç”¨(Hub)çš„å±æ€§,å¯ä»¥åœ¨æ§åˆ¶å°åº”ç”¨å±æ€§ä¸­è¿›è¡Œä¿®æ”¹ã€‚æ¨æµæ—¶ï¼Œä½¿ç”¨<code>rtmp://&lt;HubPublishDomain&gt;/&lt;StreamKey&gt;?&lt;é‰´æƒæ–¹å¼ä¸­çš„publishKeyæˆ–token&gt;</code>è¿™æ ·å¸¦æœ‰é‰´æƒå‚æ•°çš„åœ°å€ï¼Œå¯è·å¾—æ¨æµèƒ½åŠ›ã€‚åŒ…æ‹¬å››ç§é‰´æƒæ–¹å¼ï¼Œstatic é™æ€æ¨æµåœ°å€/expiryé™æ—¶æ¨æµåœ°å€/dynamicåŠ¨æ€æ¨æµåœ°å€/noneæ— é‰´æƒæ–¹å¼ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å››ç§é‰´æƒæ–¹å¼&quot;&gt;&lt;a href=&quot;#å››ç§é‰´æƒæ–¹å¼&quot; class=&quot;headerlink&quot; title=&quot;å››ç§é‰´æƒæ–¹å¼&quot;&gt;&lt;/a&gt;å››ç§é‰´æƒæ–¹å¼&lt;/h3&gt;&lt;h4 id=&quot;1-static-é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰&quot;&gt;&lt;a href=&quot;#1-static-é™æ€æ ¡éªŒï¼ˆå¼±é‰´æƒï¼‰&quot;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ƒç‰›æ§åˆ¶å°ç›´æ’­ç©ºé—´è¯¦è§£</title>
    <link href="https://www.bz1.me/%E4%B8%83%E7%89%9B%E7%9B%B4%E6%92%AD%E7%A9%BA%E9%97%B4%E8%AF%A6%E8%A7%A3.html"/>
    <id>https://www.bz1.me/ä¸ƒç‰›ç›´æ’­ç©ºé—´è¯¦è§£.html</id>
    <published>2016-12-12T06:19:47.000Z</published>
    <updated>2016-12-15T02:53:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç›´æ’­ç©ºé—´æˆªå›¾å’Œå…·ä½“çš„è®¾ç½®æ–¹å¼ç»†èŠ‚åœ¨åé¢ï¼Œé¦–å…ˆå…ˆä»‹ç»ä¸€ä¸‹ä¸ƒç‰›çš„æ¨æµåœ°å€</p>
<h3 id="å…³äºä¸ƒç‰›-streamJson-æ³¨é‡Š"><a href="#å…³äºä¸ƒç‰›-streamJson-æ³¨é‡Š" class="headerlink" title="å…³äºä¸ƒç‰› streamJson æ³¨é‡Š"></a>å…³äºä¸ƒç‰› streamJson æ³¨é‡Š</h3><p>ä¸ƒç‰›çš„ Android å’Œ ios æ¨æµå¯ä»¥ä½¿ç”¨<code>streamJson</code>æˆ–è€…<code>ä¸ƒç‰›æ¨æµåœ°å€(url)</code>è¿›è¡Œæ¨æµã€‚</p>
<ul>
<li>æœåŠ¡ç«¯ V1 ç‰ˆæœ¬çš„ sdk åŒæ—¶æ”¯æŒç”Ÿæˆ url å’Œ streamJson</li>
<li>æœåŠ¡ç«¯ V2 ç‰ˆæœ¬çš„ sdk ä¸æ”¯æŒç”Ÿæˆ streamJson<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line"><span class="string">"id"</span>: <span class="string">"z1.tron.baozijian"</span>, <span class="comment">//æµ id</span></div><div class="line"><span class="string">"createdAt"</span>: <span class="string">"2016-12-12T06:08:51.365Z"</span>, <span class="comment">//åˆ›å»ºæ—¶é—´</span></div><div class="line"><span class="string">"updatedAt"</span>: <span class="string">"2016-12-12T06:08:51.365Z"</span>, <span class="comment">//æ›´æ–°æ—¶é—´</span></div><div class="line"><span class="string">"title"</span>: <span class="string">"baozijian"</span>, <span class="comment">//æµåç§°</span></div><div class="line"><span class="string">"hub"</span>: <span class="string">"tron"</span>, <span class="comment">//ç›´æ’­ç©ºé—´å</span></div><div class="line"><span class="string">"disabled"</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦ç¦æ’­æµ</span></div><div class="line"><span class="string">"publishKey"</span>: <span class="string">"baozijian"</span>, <span class="comment">//æµç§˜é’¥</span></div><div class="line"><span class="string">"publishSecurity"</span>: <span class="string">"static"</span>, <span class="comment">//é‰´æƒæ–¹å¼</span></div><div class="line"><span class="string">"hosts"</span>: &#123;</div><div class="line"><span class="string">"publish"</span>: &#123;</div><div class="line"><span class="string">"rtmp"</span>: <span class="string">"pili-publish.baozijian.cc"</span> <span class="comment">//rtmp æ¨æµåŸŸå</span></div><div class="line">&#125;,</div><div class="line"><span class="string">"live"</span>: &#123;</div><div class="line"><span class="string">"hdl"</span>: <span class="string">"pili-live-hdl.baozijian.cc"</span>, <span class="comment">//flv æ’­æ”¾åŸŸå</span></div><div class="line"><span class="string">"hls"</span>: <span class="string">"pili-live-hls.baozijian.cc"</span>, <span class="comment">//hls æ’­æ”¾åŸŸå</span></div><div class="line"><span class="string">"http"</span>: <span class="string">"pili-live-hls.baozijian.cc"</span>, <span class="comment">//hls æ’­æ”¾åŸŸå</span></div><div class="line"><span class="string">"rtmp"</span>: <span class="string">"pili-live-rtmp.baozijian.cc"</span>, <span class="comment">//rtmp æ’­æ”¾åŸŸå</span></div><div class="line"><span class="string">"snapshot"</span>: <span class="string">"pili-live-snapshot.baozijian.cc"</span> <span class="comment">//å®æ—¶æˆªå›¾åŸŸå</span></div><div class="line">&#125;,</div><div class="line"><span class="string">"playback"</span>: &#123;</div><div class="line"><span class="string">"hls"</span>: <span class="string">"10005x3.playback1.z1.pili.qiniucdn.com"</span>, <span class="comment">//playback å›çœ‹åŸŸå</span></div><div class="line"><span class="string">"http"</span>: <span class="string">"10005x3.playback1.z1.pili.qiniucdn.com"</span> <span class="comment">//playback å›çœ‹åŸŸå</span></div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ä¸ƒç‰›ç›´æ’­ç©ºé—´å-amp-åŸŸåç®¡ç†"><a href="#ä¸ƒç‰›ç›´æ’­ç©ºé—´å-amp-åŸŸåç®¡ç†" class="headerlink" title="ä¸ƒç‰›ç›´æ’­ç©ºé—´å&amp;åŸŸåç®¡ç†"></a>ä¸ƒç‰›ç›´æ’­ç©ºé—´å&amp;åŸŸåç®¡ç†</h3><p><img src="https://upload.bz1.me/bloghub.png" alt=""></p>
<ul>
<li>hubï¼štron</li>
<li>rtmp æ¨æµåŸŸåï¼špili-publish.baozijian.cc</li>
<li>rtmp æ’­æ”¾åŸŸåï¼špili-live-rtmp.baozijian.cc</li>
<li>hls æ’­æ”¾åŸŸåï¼špili-live-hls.baozijian.cc</li>
<li>ts åˆ‡ç‰‡åŸŸåï¼špili-media.baozijian.cc</li>
<li>flv æ’­æ”¾åœ°å€ï¼špili-live-hdl.baozijian.cc</li>
<li>ç›´æ’­å°é¢ï¼špili-live-snapshot.baozijian.cc</li>
</ul>
<h3 id="ä¸ƒç‰›ç›´æ’­æµç®¡ç†-amp-æ¨æ‹‰æµåœ°å€-amp-ç¦æ’­çŠ¶æ€-amp-æ—¶é—´è®°å½•"><a href="#ä¸ƒç‰›ç›´æ’­æµç®¡ç†-amp-æ¨æ‹‰æµåœ°å€-amp-ç¦æ’­çŠ¶æ€-amp-æ—¶é—´è®°å½•" class="headerlink" title="ä¸ƒç‰›ç›´æ’­æµç®¡ç†&amp;æ¨æ‹‰æµåœ°å€&amp;ç¦æ’­çŠ¶æ€&amp;æ—¶é—´è®°å½•"></a>ä¸ƒç‰›ç›´æ’­æµç®¡ç†&amp;æ¨æ‹‰æµåœ°å€&amp;ç¦æ’­çŠ¶æ€&amp;æ—¶é—´è®°å½•</h3><p><img src="https://upload.bz1.me/bloghub2.png" alt=""></p>
<ul>
<li>hubï¼štron</li>
<li>rtmp æ¨æµåœ°å€ï¼šrtmp://pili-publish.baozijian.cc/tron/baozijian?key=baozijian</li>
<li>rtmp æ’­æ”¾åœ°å€ï¼šrtmp://pili-live-rtmp.baozijian.cc/tron/baozijian</li>
<li>hls æ’­æ”¾åœ°å€ï¼š<a href="http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8" target="_blank" rel="external">http://pili-live-hls.baozijian.cc/tron/baozijian.m3u8</a></li>
<li>flv æ’­æ”¾åœ°å€ï¼š<a href="http://pili-live-hdl.baozijian.cc/tron/baozijian.flv" target="_blank" rel="external">http://pili-live-hdl.baozijian.cc/tron/baozijian.flv</a></li>
<li>ç¦æ’­çŠ¶æ€ï¼štrue</li>
<li>åˆ›å»ºæ—¶é—´ï¼š2016-12-12 14:08:51</li>
<li>æ›´æ–°æ—¶é—´ï¼š2016-12-12 14:21:32</li>
</ul>
<h3 id="ä¸ƒç‰›ç›´æ’­ç©ºé—´è®¾ç½®"><a href="#ä¸ƒç‰›ç›´æ’­ç©ºé—´è®¾ç½®" class="headerlink" title="ä¸ƒç‰›ç›´æ’­ç©ºé—´è®¾ç½®"></a>ä¸ƒç‰›ç›´æ’­ç©ºé—´è®¾ç½®</h3><p><img src="https://upload.bz1.me/bloghub3.png" alt=""><br>ä¸ƒç‰› portal.qiniu.com æ§åˆ¶å°çš„ç›´æ’­ç©ºé—´è®¾ç½®ä¸­æœ‰å¦‚ä¸‹å±æ€§å¯ä»¥è®¾ç½®ï¼š</p>
<ul>
<li>ç›´æ’­ç©ºé—´åç§°ï¼štronã€è¿™ä¸ªå°±æ˜¯ hub åã€</li>
<li>å­˜å‚¨ç©ºé—´åç§°ï¼šç›´æ’­å†…å®¹ä¼šåˆ‡ç‰‡è½å­˜å‚¨åˆ°è¯¥ç©ºé—´ï¼Œç›´æ’­è½¬å­˜ï¼Œæˆ–è€…æ‰‹åŠ¨è¯·æ±‚ snapshot() éƒ½ä¼šä¿å­˜åœ¨è¯¥ç©ºé—´</li>
<li>å­˜å‚¨è¿‡æœŸæ—¶é—´ï¼šç›´æ’­å†…å®¹ä¼šåœ¨ç›´æ’­åæŒ‡å®šçš„æ—¶é—´å†…è¢«è‡ªåŠ¨åˆ é™¤ï¼Œå¦‚æœå¸Œæœ›æ°¸ä¹…å­˜å‚¨ï¼Œéœ€è¦è°ƒç”¨ saveas() æ¥å£è¿›è¡Œè½¬å­˜</li>
<li>ç›´æ’­å°é¢ï¼šå¼€å¯åï¼Œå¯ä»¥æ ¹æ®<code>http://&lt;domain&gt;/&lt;hub&gt;/&lt;title&gt;.jpg</code>ï¼Œè¿›è¡Œè®¿é—®ï¼Œä¼šå®æ—¶åˆ·æ–°<ul>
<li>e.g. <a href="http://pili-live-snapshot.baozijian.cc/tron/baozijian.jpg" target="_blank" rel="external">http://pili-live-snapshot.baozijian.cc/tron/baozijian.jpg</a></li>
</ul>
</li>
<li>ç›´æ’­çŠ¶æ€é€šçŸ¥ï¼šå½“ç›´æ’­çš„çŠ¶æ€æœ‰å˜åŒ–æ—¶ï¼Œå‘é€é€šçŸ¥åˆ°æŒ‡å®šçš„ URL åœ°å€</li>
<li>ç›´æ’­ä¸­æ–­è¶…æ—¶ï¼šå½“ä¸€ä¸ªæµæ­£åœ¨æ¨çš„æ—¶å€™ï¼Œstatus() å¯ä»¥è·å–åˆ°æµçš„çŠ¶æ€ä¸º connected,å½“piliæŒç»­ n ç§’å†…æ²¡æœ‰æ”¶åˆ°æ¨æµç«¯æ¨é€æ¥çš„æ•°æ®åï¼Œæµä¼šç”± connected å˜ä¸º disconnected n ç§’å³ä¸ºè¯¥ hub çš„ timeout ï¼Œn ç§’çš„å€¼å¯ä»¥åœ¨æ­¤å¤„è®¾ç½®ã€‚</li>
<li>ç›´æ’­é‰´æƒï¼šæ­¤å¤„æ‰‹åŠ¨è®¾ç½®åªæœ‰ä¸‰ç§ï¼Œå®é™…æœ‰å››ç§ç›´æ’­é‰´æƒã€staticã€dynamicã€expireã€noneã€<a href="https://note.bz1.me/ä¸ƒç‰›ç›´æ’­æ¨æµé‰´æƒ.html" target="_blank" rel="external">è¯¦ç»†å‚è€ƒ</a></li>
<li>åˆ é™¤ç›´æ’­ç©ºé—´ï¼šåˆ é™¤ç›´æ’­ç©ºé—´</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç›´æ’­ç©ºé—´æˆªå›¾å’Œå…·ä½“çš„è®¾ç½®æ–¹å¼ç»†èŠ‚åœ¨åé¢ï¼Œé¦–å…ˆå…ˆä»‹ç»ä¸€ä¸‹ä¸ƒç‰›çš„æ¨æµåœ°å€&lt;/p&gt;
&lt;h3 id=&quot;å…³äºä¸ƒç‰›-streamJson-æ³¨é‡Š&quot;&gt;&lt;a href=&quot;#å…³äºä¸ƒç‰›-streamJson-æ³¨é‡Š&quot; class=&quot;headerlink&quot; title=&quot;å…³äºä¸ƒç‰› streamJso
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºä¸ƒç‰›ç›´æ’­æµçŠ¶æ€</title>
    <link href="https://www.bz1.me/%E5%85%B3%E4%BA%8E%E4%B8%83%E7%89%9B%E7%9B%B4%E6%92%AD%E6%B5%81%E7%8A%B6%E6%80%81.html"/>
    <id>https://www.bz1.me/å…³äºä¸ƒç‰›ç›´æ’­æµçŠ¶æ€.html</id>
    <published>2016-12-09T15:12:38.000Z</published>
    <updated>2016-12-18T02:46:14.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š"><a href="#æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š" class="headerlink" title="æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š"></a>æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š</h3><ul>
<li>connected</li>
<li>disconnected</li>
</ul>
<h3 id="å›è°ƒï¼š"><a href="#å›è°ƒï¼š" class="headerlink" title="å›è°ƒï¼š"></a>å›è°ƒï¼š</h3><ul>
<li>æµçŠ¶æ€å‘ç”Ÿæ”¹å˜éƒ½ä¼šå›è°ƒ</li>
<li>http raw post data å‘é€åˆ°å›è°ƒæœåŠ¡å™¨</li>
<li>åœ¨ç›´æ’­ç©ºé—´è®¾ç½®ä¸­å¯ä»¥å¡«å†™å›è°ƒæœåŠ¡å™¨åœ°å€</li>
</ul>
<h3 id="å…³äºæ¨æµçŠ¶æ€åˆ¤æ–­ï¼š"><a href="#å…³äºæ¨æµçŠ¶æ€åˆ¤æ–­ï¼š" class="headerlink" title="å…³äºæ¨æµçŠ¶æ€åˆ¤æ–­ï¼š"></a>å…³äºæ¨æµçŠ¶æ€åˆ¤æ–­ï¼š</h3><ul>
<li>å®¢æˆ·ç«¯å¯ä»¥å‘é€ stopStreaming ç»™æœåŠ¡ç«¯ï¼Œä¸»åŠ¨æ–­å¼€è¿æ¥</li>
<li>å¦‚æœå› ä¸ºç½‘ç»œæˆ–è€…å…¶ä»–åŸå› ï¼Œå®¢æˆ·ç«¯æœªèƒ½å‘é€æ–­å¼€è¯·æ±‚<ul>
<li>æœåŠ¡ç«¯æœ‰ä¸€ä¸ª status() æ–¹æ³•ï¼ŒæŸ¥è¯¢æµçŠ¶æ€</li>
<li>å¦‚æœåœ¨è¶…æ—¶æ—¶é—´å†…è¿˜æœªèƒ½æ”¶åˆ°æ–­å¼€è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å°±ä¼šä¸»åŠ¨å°† status ç½®ä¸º disconnected</li>
<li>è¶…æ—¶æ—¶é—´åœ¨ç›´æ’­ç©ºé—´è®¾ç½®ä¸­å¯ä»¥é€‰æ‹©ï¼Œé»˜è®¤ 15s</li>
</ul>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š&quot;&gt;&lt;a href=&quot;#æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š&quot; class=&quot;headerlink&quot; title=&quot;æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š&quot;&gt;&lt;/a&gt;æµçŠ¶æ€å…±æœ‰ä¸¤ç§ï¼š&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;connected&lt;/li&gt;
&lt;li&gt;disconnected&lt;/li&gt;
&lt;/u
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
      <category term="docs" scheme="https://www.bz1.me/tags/docs/"/>
    
  </entry>
  
  <entry>
    <title>qshell æ‰¹é‡åˆ é™¤æ“ä½œ</title>
    <link href="https://www.bz1.me/%E6%89%B9%E9%87%8F%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C.html"/>
    <id>https://www.bz1.me/æ‰¹é‡åˆ é™¤æ“ä½œ.html</id>
    <published>2016-12-09T15:11:02.000Z</published>
    <updated>2016-12-18T02:51:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>qshell åˆ é™¤æŒ‡å®šæ—¶é—´å‰çš„æ–‡ä»¶<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">cat</span> <span class="number">1</span>.txt | awk <span class="string">'&#123;print <span class="variable">$4</span>&#125;'</span> | cut -c <span class="number">1</span>-<span class="number">10</span> &gt;<span class="number">2</span>.txt</div><div class="line">paste <span class="number">2</span>.txt <span class="number">1</span>.txt | awk <span class="string">'&#123;print <span class="variable">$1</span>" â€œ<span class="variable">$2</span>&#125;'</span> | awk <span class="string">'<span class="variable">$1</span>&lt;1472371200&#123;print <span class="variable">$2</span>&#125;'</span></div></pre></td></tr></table></figure></p>
<p>qshell åˆ é™¤æŒ‡å®šæ—¶é—´å†…çš„æ–‡ä»¶<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cat myty-live.<span class="type">list</span>.txt | awk '&#123;print $<span class="number">4</span>&#125;' | cut -c <span class="number">1</span><span class="number">-10</span> &gt;time1.txt</div><div class="line">paste time1.txt myty-live.<span class="type">list</span>.txt | awk '$<span class="number">1</span>&gt;=<span class="number">1473650315</span> &amp;&amp; $<span class="number">1</span>&lt;=<span class="number">1473650495</span>&#123;print $<span class="number">3</span>â€ â€œ$<span class="number">2</span>&#125;â€™</div></pre></td></tr></table></figure></p>
<p>qshell æ‰¹é‡åˆ é™¤æ“ä½œ</p>
<ul>
<li>qshell ä¸‹è½½åœ°å€&amp;æ–‡æ¡£(<a href="http://developer.qiniu.com/code/v6/tool/qshell.html" target="_blank" rel="external">http://developer.qiniu.com/code/v6/tool/qshell.html</a>)</li>
<li>qshell account ç™»é™†</li>
<li>qshell listbucket åˆ—ä¸¾å‡ºç©ºé—´æ‰€æœ‰æ–‡ä»¶</li>
<li>æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿‡æ»¤å‡ºæ–‡ä»¶å(å¦‚æœå…¨éƒ¨åˆ é™¤ï¼Œåˆ™ä¸éœ€è¦è¿‡æ»¤)</li>
<li>qshell batchdelete æ‰¹é‡åˆ é™¤</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;qshell åˆ é™¤æŒ‡å®šæ—¶é—´å‰çš„æ–‡ä»¶&lt;br&gt;&lt;figure class=&quot;highlight nginx&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div
    
    </summary>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
      <category term="qshell" scheme="https://www.bz1.me/tags/qshell/"/>
    
  </entry>
  
  <entry>
    <title>[bash shell]é‡‡ç”¨è¡¨å•/åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶è‡³ä¸ƒç‰›äº‘</title>
    <link href="https://www.bz1.me/shell-%E9%87%87%E7%94%A8%E8%A1%A8%E5%8D%95-%E5%88%86%E7%89%87%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E8%87%B3%E4%B8%83%E7%89%9B%E4%BA%91.html"/>
    <id>https://www.bz1.me/shell-é‡‡ç”¨è¡¨å•-åˆ†ç‰‡ä¸Šä¼ æ–‡ä»¶è‡³ä¸ƒç‰›äº‘.html</id>
    <published>2016-12-09T15:09:46.000Z</published>
    <updated>2016-12-18T02:48:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ³¨æ„1ï¼šéœ€è¦å°† qshell åŠ å…¥ç¯å¢ƒå˜é‡<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mv qshell <span class="regexp">/usr/</span>local<span class="regexp">/bin/</span>qshell</div></pre></td></tr></table></figure></p>
<p><a href="http://developer.qiniu.com/code/v6/tool/qshell.html" target="_blank" rel="external">http://developer.qiniu.com/code/v6/tool/qshell.html</a></p>
<p>æ³¨æ„2ï¼šæ­¤è„šæœ¬éœ€è¦æ³¨å†Œä¸ƒç‰›äº‘è´¦å·ï¼Œè·å– ak å’Œ skï¼Œä»¥åŠåˆ›å»º bucket ç”¨äºå­˜å‚¨<br>å¿«é€Ÿå…¥é—¨ï¼š<br><a href="http://developer.qiniu.com/article/kodo/kodo-first/quickstart.html" target="_blank" rel="external">http://developer.qiniu.com/article/kodo/kodo-first/quickstart.html</a></p>
<h3 id="éœ€è¦é…ç½®çš„å‚æ•°"><a href="#éœ€è¦é…ç½®çš„å‚æ•°" class="headerlink" title="éœ€è¦é…ç½®çš„å‚æ•°"></a>éœ€è¦é…ç½®çš„å‚æ•°</h3><ol>
<li>ak sk</li>
<li>bucket</li>
<li>domain</li>
</ol>
<h3 id="shell-è„šæœ¬å¦‚ä¸‹ï¼š"><a href="#shell-è„šæœ¬å¦‚ä¸‹ï¼š" class="headerlink" title="shell è„šæœ¬å¦‚ä¸‹ï¼š"></a>shell è„šæœ¬å¦‚ä¸‹ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/usr/bin/env bash</span></div><div class="line">ii=<span class="variable">$1</span></div><div class="line">qshell account &lt;ak&gt; &lt;sk&gt;</div><div class="line">jj=$(ls <span class="_">-l</span> | grep <span class="variable">$ii</span> | awk <span class="string">'&#123;print $5&#125;'</span>)</div><div class="line"></div><div class="line"><span class="keyword">if</span> [[ <span class="variable">$jj</span> <span class="_">-lt</span> <span class="string">'100000000'</span> ]];</div><div class="line">	<span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ–‡ä»¶å¤§å°ï¼š<span class="variable">$bb</span>"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ­¤æ–‡ä»¶å°äº100Mï¼Œå°†é‡‡ç”¨è¡¨å•ä¸Šä¼ "</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	qshell fput &lt;bucket&gt; <span class="variable">$ii</span> <span class="variable">$1</span> | tee <span class="_">-a</span> <span class="built_in">test</span>1111</div><div class="line"></div><div class="line">	xx=$(cat <span class="built_in">test</span>1111 | grep <span class="string">"Put"</span> | awk -F <span class="string">')'</span> <span class="string">'&#123;print $2&#125;'</span>)</div><div class="line">	rm <span class="built_in">test</span>1111</div><div class="line">	<span class="keyword">if</span> [[ <span class="variable">$xx</span> = <span class="string">' success!'</span> ]];</div><div class="line">		<span class="keyword">then</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"è®¿é—®é“¾æ¥ï¼š"</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"http://&lt;domain&gt;/<span class="variable">$ii</span>"</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"Fail, please try again!"</span></div><div class="line">	<span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="keyword">elif</span> [[ <span class="variable">$jj</span> -ge <span class="string">'100000000'</span> ]];</div><div class="line">	<span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ–‡ä»¶å¤§å°ï¼š<span class="variable">$bb</span>"</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"æ­¤æ–‡ä»¶å¤§äº100Mï¼Œå°†é‡‡ç”¨åˆ†ç‰‡ä¸Šä¼ "</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	qshell rput &lt;bucket&gt; <span class="variable">$ii</span> <span class="variable">$1</span> | tee <span class="_">-a</span> <span class="built_in">test</span>1111</div><div class="line"></div><div class="line">	xx=$(cat <span class="built_in">test</span>1111 | grep <span class="string">"Put"</span> | awk -F <span class="string">')'</span> <span class="string">'&#123;print $2&#125;'</span>)</div><div class="line">	rm <span class="built_in">test</span>1111</div><div class="line">	<span class="keyword">if</span> [[ <span class="variable">$xx</span> = <span class="string">' success!'</span> ]];</div><div class="line">		<span class="keyword">then</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"è®¿é—®é“¾æ¥ï¼š"</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"http://&lt;domain&gt;/<span class="variable">$ii</span>"</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">""</span></div><div class="line">	<span class="keyword">else</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"Fail, please try again!"</span></div><div class="line">	<span class="keyword">fi</span></div><div class="line"><span class="keyword">else</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"File error~ å§æ§½æ—¥äº†ç‹—"</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<h3 id="æµ‹è¯•æˆªå›¾ï¼š"><a href="#æµ‹è¯•æˆªå›¾ï¼š" class="headerlink" title="æµ‹è¯•æˆªå›¾ï¼š"></a>æµ‹è¯•æˆªå›¾ï¼š</h3><p><img src="https://upload.bz1.me/qsuptest.png" alt="qsup1"><br><img src="https://upload.bz1.me/qsuptest2.png" alt="qsup2"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ³¨æ„1ï¼šéœ€è¦å°† qshell åŠ å…¥ç¯å¢ƒå˜é‡&lt;br&gt;&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;
    
    </summary>
    
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
      <category term="bash shell" scheme="https://www.bz1.me/tags/bash-shell/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://www.bz1.me/hello-world.html"/>
    <id>https://www.bz1.me/hello-world.html</id>
    <published>2016-12-08T14:22:18.000Z</published>
    <updated>2016-12-08T14:22:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å…³äº m3u8</title>
    <link href="https://www.bz1.me/m3u8.html"/>
    <id>https://www.bz1.me/m3u8.html</id>
    <published>2016-12-08T14:21:02.000Z</published>
    <updated>2016-12-18T02:47:51.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å…³äº-m3u8"><a href="#å…³äº-m3u8" class="headerlink" title="å…³äº m3u8"></a>å…³äº m3u8</h2><p>M3U8æ˜¯Unicodeç‰ˆæœ¬çš„M3Uï¼Œç”¨UTF-8ç¼–ç ã€‚â€M3Uâ€å’Œâ€M3U8â€æ–‡ä»¶éƒ½æ˜¯è‹¹æœå…¬å¸ä½¿ç”¨çš„HTTP Live Streamingæ ¼å¼çš„åŸºç¡€ï¼Œè¿™ç§æ ¼å¼å¯ä»¥åœ¨iPhoneå’ŒMacbookç­‰è®¾å¤‡æ’­æ”¾ã€‚<br>m3u8 å…¶å®æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œæ˜¯ä¸€ä¸ª <code>playlist</code>ï¼Œç”¨æ¥ç´¢å¼• <code>ts æ–‡ä»¶</code>ï¼ŒçœŸæ­£çš„æµåª’ä½“æ–‡ä»¶å…¶å®æ˜¯<code>ts æ–‡ä»¶</code><br>â­ï¸å‚è€ƒ wiki (<a href="https://zh.wikipedia.org/wiki/M3U#M3U8" target="_blank" rel="external">https://zh.wikipedia.org/wiki/M3U#M3U8</a>)</p>
<h3 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h3><p><code>http://sc.sc.bz1.me/123123123.m3u8</code></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="selector-id">#EXTM3U</span></div><div class="line"><span class="selector-id">#EXT-X-VERSION</span>:<span class="number">3</span></div><div class="line"><span class="selector-id">#EXT-X-ALLOW-CACHE</span>:NO</div><div class="line"><span class="selector-id">#EXT-X-TARGETDURATION</span>:<span class="number">10</span></div><div class="line"><span class="selector-id">#EXT-X-MEDIA-SEQUENCE</span>:<span class="number">1</span></div><div class="line"><span class="selector-id">#EXT-X-DISCONTINUITY</span></div><div class="line"><span class="selector-id">#EXTINF</span>:<span class="number">5.133</span>,</div><div class="line">/fragments/z1<span class="selector-class">.Newhub</span>.<span class="number">5784</span>a9645e77b0372002e792/<span class="number">1468570587846</span>-<span class="number">1468570592979</span><span class="selector-class">.ts</span></div><div class="line"><span class="selector-id">#EXTINF</span>:<span class="number">5.333</span>,</div><div class="line">/fragments/z1<span class="selector-class">.Newhub</span>.<span class="number">5784</span>a9645e77b0372002e792/<span class="number">1468570592238</span>-<span class="number">1468570597571</span><span class="selector-class">.ts</span></div><div class="line"><span class="selector-id">#EXTINF</span>:<span class="number">5.334</span>,</div><div class="line">/fragments/z1<span class="selector-class">.Newhub</span>.<span class="number">5784</span>a9645e77b0372002e792/<span class="number">1468570597278</span>-<span class="number">1468570602612</span><span class="selector-class">.ts</span></div><div class="line">&lt;æ­¤å¤„çœç•¥éƒ¨åˆ†&gt;</div><div class="line">#EXT-X-ENDLIST</div></pre></td></tr></table></figure>
<p>ä¸ƒç‰›çš„<code>avthumb åˆ‡ç‰‡</code>æˆ–è€…ç›´æ’­çš„<code>è½¬ç </code>æœåŠ¡ï¼Œç”Ÿæˆçš„ m3u8 æ–‡ä»¶æ ¼å¼å¤§ä½“å¦‚ä¸Šï¼Œæœ‰çš„ m3u8 æ–‡ä»¶å¯èƒ½æ˜¯åœ¨æ–‡æœ¬ä¸­æ˜¯ <code>http://domain/key.ts</code> çš„æ ¼å¼ã€‚</p>
<p>æ ‡å‡†çš„ m3u8 æ–‡ä»¶éµå¾ªäº† apple å…¬å¸çš„å®˜æ–¹æ ‡å‡†ï¼Œå¯ä»¥ç”¨å®˜æ–¹å·¥å…·(     <code>mediastreamvalidator</code> )æ£€æµ‹çœ‹ä¸‹ï¼Œæ­¤å¤„ä¸èµ˜è¿°ã€‚<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="variable">$ </span>mediastreamvalidator <span class="symbol">http:</span>/<span class="regexp">/sc.sc.bz1.me/</span><span class="number">123123123</span>.m3u8</div></pre></td></tr></table></figure></p>
<p>æœ‰ä¸€äº›å¯èƒ½å°±ä¸æ˜¯å¾ˆæ ‡å‡†ï¼Œæœ¬æ–‡è„šæœ¬å¯ä»¥æ‹†åˆ†å‡ºæ¯ä¸ª ts çš„ç‰©ç†æ—¶é—´æˆ³ï¼Œèµ°åŒ—äº¬æ—¶é—´ï¼Œå¹¶ä¸”è®¡ç®—å‡ºæ¯ä¸ª ts çš„æ—¶é•¿å’Œè§†é¢‘æ€»æ—¶é•¿ï¼Œç®€å•å®ç”¨ã€‚<br>å®ç”¨è„šæœ¬å‰éœ€è¦å…ˆåœ¨æœ¬åœ°ä¸‹è½½ä¸ƒç‰›çš„ <code>qshell å·¥å…·</code>(<a href="http://developer.qiniu.com/code/v6/tool/qshell.html)ï¼Œå¹¶ä¸”åŠ å…¥ç¯å¢ƒå˜é‡(å…¨å±€å¯ä»¥è¿è¡Œ" target="_blank" rel="external">http://developer.qiniu.com/code/v6/tool/qshell.html)ï¼Œå¹¶ä¸”åŠ å…¥ç¯å¢ƒå˜é‡(å…¨å±€å¯ä»¥è¿è¡Œ</a> qshell)</p>
<h3 id="è„šæœ¬å¦‚ä¸‹ï¼š"><a href="#è„šæœ¬å¦‚ä¸‹ï¼š" class="headerlink" title="è„šæœ¬å¦‚ä¸‹ï¼š"></a>è„šæœ¬å¦‚ä¸‹ï¼š</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">curl <span class="variable">$1</span> | grep ts | awk -F '/z1.' '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F '/' '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F <span class="string">"."</span> '&#123;<span class="keyword">print</span> <span class="variable">$1&#125;</span>' | awk -F '-' '&#123;<span class="string">"qshell tms2d "</span><span class="variable">$1</span>|getline a; <span class="keyword">close</span>(<span class="string">"qshell tms2d "</span><span class="variable">$1</span>);<span class="string">"qshell tms2d "</span><span class="variable">$2</span>|getline b;<span class="keyword">close</span>(<span class="string">"qshell tms2d "</span><span class="variable">$2</span>);<span class="keyword">print</span> a,<span class="string">" "</span>,b;&#125;' &gt;test11</div><div class="line"></div><div class="line">curl <span class="variable">$1</span> | grep ts | awk -F '/z1.' '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F '/' '&#123;<span class="keyword">print</span> <span class="variable">$2&#125;</span>' | awk -F <span class="string">"."</span> '&#123;<span class="keyword">print</span> <span class="variable">$1&#125;</span>' | awk -F <span class="string">"-"</span> '&#123;<span class="keyword">print</span> (<span class="variable">$2</span> - <span class="variable">$1</span>)/1000 <span class="string">" s"</span>&#125;' &gt;test22</div><div class="line"></div><div class="line"><span class="keyword">cat</span> test22 | awk '&#123;<span class="keyword">sum</span>+=<span class="variable">$1&#125;</span> END &#123;<span class="keyword">print</span> <span class="string">"Total = "</span>, <span class="keyword">sum</span>&#125;' &gt;test33</div><div class="line"></div><div class="line">paste test11 test22</div><div class="line">echo <span class="string">""</span></div><div class="line">echo <span class="string">"m3u8ä¸­çš„tsæ–‡ä»¶æ€»æ—¶é•¿(åˆ†é’Ÿä¸ºå•ä½)"</span></div><div class="line"><span class="keyword">cat</span> test33 | awk '&#123;<span class="keyword">print</span> <span class="variable">$3</span>/60 <span class="string">" min"</span>&#125;'</div><div class="line"></div><div class="line"><span class="keyword">rm</span> test11</div><div class="line"><span class="keyword">rm</span> test22</div><div class="line"><span class="keyword">rm</span> test33</div></pre></td></tr></table></figure>
<h3 id="æµ‹è¯•è¾“å‡ºå¦‚ä¸‹ï¼š"><a href="#æµ‹è¯•è¾“å‡ºå¦‚ä¸‹ï¼š" class="headerlink" title="æµ‹è¯•è¾“å‡ºå¦‚ä¸‹ï¼š"></a>æµ‹è¯•è¾“å‡ºå¦‚ä¸‹ï¼š</h3><p><img src="https://upload.bz1.me/tssssh.png" alt="tsss.sh"></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å…³äº-m3u8&quot;&gt;&lt;a href=&quot;#å…³äº-m3u8&quot; class=&quot;headerlink&quot; title=&quot;å…³äº m3u8&quot;&gt;&lt;/a&gt;å…³äº m3u8&lt;/h2&gt;&lt;p&gt;M3U8æ˜¯Unicodeç‰ˆæœ¬çš„M3Uï¼Œç”¨UTF-8ç¼–ç ã€‚â€M3Uâ€å’Œâ€M3U8â€æ–‡ä»¶éƒ½æ˜¯è‹¹æœå…¬å¸ä½¿ç”¨
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
      <category term="docs" scheme="https://www.bz1.me/tags/docs/"/>
    
  </entry>
  
  <entry>
    <title>PortSentry ä¿æŠ¤äº‘ä¸»æœºç¦æ­¢è¢«æ¶æ„æ‰«æ</title>
    <link href="https://www.bz1.me/portsentry.html"/>
    <id>https://www.bz1.me/portsentry.html</id>
    <published>2016-09-27T14:21:02.000Z</published>
    <updated>2016-12-18T02:48:45.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>æ³¨ï¼šæœ¬æ–‡é‡‡ç”¨çš„æ“ä½œç³»ç»Ÿä¸º ubuntu14.04</p>
</blockquote>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>PortSentry is part of SentryTools. This daemon will watch unused ports for activity and depending on how it is configured take action upon excessive access to watched ports.<br><a href="https://wiki.gentoo.org/wiki/PortSentry" target="_blank" rel="external">wiki</a></p>
<h2 id="portsentry-é‡‡å–çš„æªæ–½ï¼š"><a href="#portsentry-é‡‡å–çš„æªæ–½ï¼š" class="headerlink" title="portsentry é‡‡å–çš„æªæ–½ï¼š"></a>portsentry é‡‡å–çš„æªæ–½ï¼š</h2><ul>
<li>å°†æµé‡å¼•åˆ°ä¸€ä¸ªè™šå‡çš„è·¯ç”±ï¼Œä¸€ä¸ªä¸å­˜åœ¨çš„ä¸»æœº</li>
<li>è‡ªåŠ¨å¯¹æœåŠ¡å™¨ç«¯å£æ‰«æçš„ä¸»æœºåŠ åˆ° /etc/hosts.deny æ–‡ä»¶ä¸­å»</li>
<li>åˆ©ç”¨ Netfiliter æœºåˆ¶ï¼Œç”¨åŒ…è¿‡æ»¤çš„æœºåˆ¶ï¼Œä¾‹å¦‚ iptables å’Œ ipchain ç­‰ï¼ŒæŠŠéæ³•çš„æ•°æ®åŒ…ï¼ˆæ¥è‡ªå¯¹ä¸»æœºè¿›è¡Œç«¯å£æ‰«æçš„ä¸»æœºï¼‰éƒ½è¿‡æ»¤æ‰ï¼›</li>
<li>é€šè¿‡ syslog() å‡½æ•°ç»™å‡ºä¸€ä¸ªæ—¥å¿—æ¶ˆæ¯ï¼Œæˆ–è€…ä¸€æ®µè­¦å‘Šä¿¡æ¯</li>
</ul>
<h2 id="portsentry-å®‰è£…"><a href="#portsentry-å®‰è£…" class="headerlink" title="portsentry å®‰è£…"></a>portsentry å®‰è£…</h2><p>ä¸‹è½½åœ°å€</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http:<span class="regexp">//</span>sourceforge.net<span class="regexp">/projects/</span>sentrytools<span class="regexp">/</span></div></pre></td></tr></table></figure>
<p>è§£å‹</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">tar</span> <span class="selector-tag">zxvf</span> <span class="selector-tag">portsentry-1</span><span class="selector-class">.2</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></div></pre></td></tr></table></figure>
<p>ä¸èƒ½ç›´æ¥ç¼–è¯‘ï¼Œè¿™é‡Œæœ‰ç‚¹ç‰¹æ®Šï¼Œè§£å‹å®Œçš„åŒ…ä¸­ï¼Œ<code>portsentry.c</code>è¿™ä¸ªæ–‡ä»¶ä¸­åœ¨<code>1584</code>è¡Œæœ‰ä¸€å¤„é”™è¯¯ï¼Œå°†å…¶æ”¹æˆä¸€è¡Œ</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">printf (<span class="string">"Copyright 1997-2003 Craig H. Rowland &lt;craigrowland at users dot sourceforget dot net&gt;\n"</span>)<span class="comment">;</span></div></pre></td></tr></table></figure>
<p><img src="https://upload.bz1.me/portsentry1588c.png?imageView/2/h/300" alt="portsentry"></p>
<p>ç„¶åè¿›è¡Œç¼–è¯‘</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">make</span> linux&amp; <span class="built_in">make</span> install</div></pre></td></tr></table></figure>
<p>æˆåŠŸå®‰è£…ï¼Œå®‰è£…çš„è·¯åŠ²ä¸º<code>/usr/local/psionic/portsentry</code><br><a id="more"></a></p>
<h2 id="portsentry-é…ç½®"><a href="#portsentry-é…ç½®" class="headerlink" title="portsentry é…ç½®"></a>portsentry é…ç½®</h2><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶-portsentry-conf"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶-portsentry-conf" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶ portsentry.conf"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>portsentry.conf</code></h3><p>é€šè¿‡ <code>portsentry</code> è¿›è¡Œå…¥ä¾µæ£€æµ‹ï¼Œå¦‚ä¸‹æ®µè½ä¸º<strong>éœ€è¦ç›‘è§†çš„ç«¯å£æ¸…å•</strong>ï¼Œå’Œ<strong>ç›¸åº”çš„é˜»æ­¢æªæ–½</strong>ã€‚å¯åŠ¨ä¹‹åï¼Œåå¼€è¿›ç¨‹å¼€å¯ç›‘æ§è¿™äº›ç«¯å£ï¼Œå‘ç°æœ‰äººæ‰«æï¼Œå°±å¯åŠ¨ç›¸åº”çš„å¯¹ç­–è¿›è¡Œé˜»æ‹¦ã€‚</p>
<p>NO.1 Port Configurations<br>è¿™ä¸€ç«¯åˆ—å‡ºäº†é»˜è®¤çš„ç›‘è§†çš„ç«¯å£ï¼Œå¯ä»¥é€šè¿‡å»æ‰<code>#</code>å·æ¥æ‰§è¡Œé»˜è®¤çš„é…ç½®ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"># Port Configurations </div><div class="line"></div><div class="line"># Un-comment these if you are really anal:</div><div class="line">#TCP_PORTS="<span class="number">1,7,9,11</span>,<span class="number">15,70,79,80</span>,<span class="number">109,110,111,119</span>,<span class="number">138,139,143</span>,<span class="number">512,513</span>,<span class="number">514,515</span>,<span class="number">540,635</span>,<span class="number">1080,1524</span>,<span class="number">2000,2001</span>,<span class="number">4000,4001</span>,<span class="number">5742,6000</span>,<span class="number">6001,6667</span>,<span class="number">12345,12346</span>,<span class="number">20034,27665</span>,<span class="number">30303,32771</span>,<span class="number">32772,32773</span>,<span class="number">32774,31337</span>,<span class="number">40421,40425</span>,<span class="number">49724,54320</span>"</div><div class="line">#UDP_PORTS="<span class="number">1,7,9,66</span>,<span class="number">67,68,69,111</span>,<span class="number">137,138,161,162</span>,<span class="number">474,513</span>,<span class="number">517,518</span>,<span class="number">635,640</span>,<span class="number">641,666</span>,<span class="number">700,2049</span>,<span class="number">31335,27444</span>,<span class="number">34555,32770</span>,<span class="number">32771,32772</span>,<span class="number">32773,32774</span>,<span class="number">31337,54321</span>"</div><div class="line">#</div><div class="line"># Use these if you just want to be aware:</div><div class="line">TCP_PORTS="<span class="number">1,11,15,79</span>,<span class="number">111,119,143</span>,<span class="number">540,635</span>,<span class="number">1080,1524</span>,<span class="number">2000,5742</span>,<span class="number">6667,12345</span>,<span class="number">12346,20034</span>,<span class="number">27665,31337</span>,<span class="number">32771,32772</span>,<span class="number">32773,32774</span>,<span class="number">40421,49724</span>,<span class="number">54320,51010</span>"</div><div class="line">UDP_PORTS="<span class="number">1,7,9,69</span>,<span class="number">161,162,513</span>,<span class="number">635,640</span>,<span class="number">641,700</span>,<span class="number">37444,34555</span>,<span class="number">31335,32770</span>,<span class="number">32771,32772</span>,<span class="number">32773,32774</span>,<span class="number">31337,54321</span>"</div><div class="line">#</div><div class="line"># Use these for just bare-bones</div><div class="line">#TCP_PORTS="<span class="number">1,11,15,110</span>,<span class="number">111,143,540</span>,<span class="number">635,1080</span>,<span class="number">1524,2000</span>,<span class="number">12345,12346</span>,<span class="number">20034,32771</span>,<span class="number">32772,32773</span>,<span class="number">32774,49724</span>,<span class="number">54320</span>"</div><div class="line">#UDP_PORTS="<span class="number">1,7,9,69</span>,<span class="number">161,162,513</span>,<span class="number">640,700</span>,<span class="number">32770,32771</span>,<span class="number">32772,32773</span>,<span class="number">32774,31337</span>,<span class="number">54321</span>"</div></pre></td></tr></table></figure>
<p>NO.2 Advanced Stealth Scan Detection Options</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Advanced Stealth Scan Detection Options</span></div><div class="line"><span class="attr">ADVANCED_PORTS_TCP</span>=<span class="string">"1024"</span></div><div class="line"><span class="attr">ADVANCED_PORTS_UDP</span>=<span class="string">"1024"</span></div><div class="line"></div><div class="line"><span class="comment"># Default TCP ident and NetBIOS service</span></div><div class="line"><span class="attr">ADVANCED_EXCLUDE_TCP</span>=<span class="string">"113,139"</span></div><div class="line"><span class="comment"># Default UDP route (RIP), NetBIOS, bootp broadcasts.</span></div><div class="line"><span class="attr">ADVANCED_EXCLUDE_UDP</span>=<span class="string">"520,138,137,67"</span></div></pre></td></tr></table></figure>
<p>NO.3 Configuration Filesï¼›portsentry.conf ç›¸å…³çš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Configuration Files</span></div><div class="line"><span class="meta"># Hosts to ignore </span></div><div class="line"><span class="meta">#ï¼ˆ æ­¤æ–‡ä»¶è®°å½•å…è®¸åˆæ³•æ‰«ææœåŠ¡çš„ä¸»æœºåœ°å€ ï¼‰</span></div><div class="line">IGNORE_FILE=<span class="string">"/usr/local/psionic/portsentry/portsentry.ignore"</span></div><div class="line"><span class="meta"># Hosts that have been denied (running history) </span></div><div class="line"><span class="meta">#ï¼ˆ æ­¤æ–‡ä»¶ä¸­ä¿ç•™å…¥ä¾µä¸»æœºçš„ IP åœ°å€ ï¼‰</span></div><div class="line">HISTORY_FILE=<span class="string">"/usr/local/psionic/portsentry/portsentry.history"</span></div><div class="line"><span class="meta"># Hosts that have been denied this session only (temporary until next restart)</span></div><div class="line"><span class="meta"># ï¼ˆ æ­¤æ–‡ä»¶ä¸­æ˜¯å·²ç»è¢«é˜»æ­¢è¿æ¥çš„ä¸»æœº IP è®°å½• ï¼‰</span></div><div class="line">BLOCKED_FILE=<span class="string">"/usr/local/psionic/portsentry/portsentry.blocked"</span></div></pre></td></tr></table></figure>
<p>NO.4 Dropping Routes<br>ä¸¢å¼ƒè§„åˆ™ï¼Œä¹Ÿå°±æ˜¯è·¯ç”±é‡å®šå‘ï¼Œè®¾ç½®ä¸€æ¡è™šæ‹Ÿçš„è·¯ç”±è®°å½•ï¼ŒæŠŠæ•°æ®åŒ…é‡å®šå‘åˆ°ä¸€ä¸ªä¸å­˜åœ¨çš„ä¸»æœº<br>æ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œé€‰æ‹©ä¸åŒçš„å‘½ä»¤</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># Dropping Routes</span></div><div class="line"><span class="meta"># Generic</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/route add $TARGET$ 333.444.555.666"</span></div><div class="line"></div><div class="line"><span class="meta"># Generic Linux</span></div><div class="line">KILL_ROUTE=<span class="string">"/sbin/route add -host $TARGET$ gw 333.444.555.666"</span></div><div class="line"></div><div class="line"><span class="meta"># Newer versions of Linux support the reject flag now. This</span></div><div class="line"><span class="meta"># is cleaner than the above option.</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/route add -host $TARGET$ reject"</span></div><div class="line"></div><div class="line"><span class="meta"># Generic BSD (BSDI, OpenBSD, NetBSD, FreeBSD)</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/route add $TARGET$ 333.444.555.666"</span></div><div class="line"></div><div class="line"><span class="meta"># Generic Sun</span></div><div class="line"><span class="meta">#KILL_ROUTE="/usr/sbin/route add $TARGET$ 333.444.555.666 1"</span></div><div class="line"></div><div class="line"><span class="meta"># NEXTSTEP</span></div><div class="line"><span class="meta">#KILL_ROUTE="/usr/etc/route add $TARGET$ 127.0.0.1 1"</span></div><div class="line"></div><div class="line"><span class="meta"># FreeBSD</span></div><div class="line"><span class="meta">#KILL_ROUTE="route add -net $TARGET$ -netmask 255.255.255.255 127.0.0.1 -blackhole"</span></div><div class="line"></div><div class="line"><span class="meta"># Digital UNIX 4.0D (OSF/1 / Compaq Tru64 UNIX)</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/route add -host -blackhole $TARGET$ 127.0.0.1"</span></div><div class="line"></div><div class="line"><span class="meta"># Generic HP-UX</span></div><div class="line"><span class="meta">#KILL_ROUTE="/usr/sbin/route add net $TARGET$ netmask 255.255.255.0 127.0.0.1"</span></div></pre></td></tr></table></figure>
<p>NO.5 æ ¹æ®é…ç½®æ–‡ä»¶è®°å½•ä¸‹çš„ IPï¼Œä½¿ç”¨ iptables é˜»å¡æ‰ï¼Œåˆ‡æ–­ä¸å…¶è¿æ¥</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="meta">##</span></div><div class="line"><span class="meta"># Using a packet filter is the PREFERRED. The below lines</span></div><div class="line"><span class="meta"># work well on many OS's. Remember, you can only uncomment *one*</span></div><div class="line"><span class="meta"># KILL_ROUTE option.</span></div><div class="line"></div><div class="line"><span class="meta"># ipfwadm support for Linux</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/ipfwadm -I -i deny -S $TARGET$ -o"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># ipfwadm support for Linux (no logging of denied packets)</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/ipfwadm -I -i deny -S $TARGET$"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># ipchain support for Linux</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/ipchains -I input -s $TARGET$ -j DENY -l"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># ipchain support for Linux (no logging of denied packets)</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/ipchains -I input -s $TARGET$ -j DENY"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># iptables support for Linux</span></div><div class="line"><span class="meta">#KILL_ROUTE="/usr/local/bin/iptables -I INPUT -s $TARGET$ -j DROP"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># For those of you running FreeBSD (and compatible) you can</span></div><div class="line"><span class="meta"># use their built in firewalling as well.</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta">#KILL_ROUTE="/sbin/ipfw add 1 deny all from $TARGET$:255.255.255.255 to any"</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta"># For those running ipfilt (OpenBSD, etc.)</span></div><div class="line"><span class="meta"># NOTE THAT YOU NEED TO CHANGE external_interface TO A VALID INTERFACE!!</span></div><div class="line"><span class="meta">#</span></div><div class="line"><span class="meta">#KILL_ROUTE="/bin/echo 'block in log on external_interface from $TARGET$/32 to any' | /sbin/ipf -f -"</span></div></pre></td></tr></table></figure>
<p>NO.6 ä¹Ÿå¯ä»¥æŠŠæ”»å‡»è€…çš„ IP è®°å½•åˆ° <code>/etc/hosts.deny</code> ä¸­ï¼Œåˆ©ç”¨ <code>TCP_Wrappers</code> æœºåˆ¶é˜²æ­¢è¢«æ”»å‡»</p>
<blockquote>
<p>TCP_Wrappers ï¼šTransmission Control Protocol (TCP) Wrappers ä¸ºç”± inetd ç”Ÿæˆçš„æœåŠ¡æä¾›äº†å¢å¼ºçš„å®‰å…¨æ€§ã€‚TCP Wrappers æ˜¯ä¸€ç§å¯¹ä½¿ç”¨ /etc/inetd.sec çš„æ›¿æ¢æ–¹æ³•ã€‚TCP Wrappers æä¾›é˜²æ­¢ä¸»æœºåå’Œä¸»æœºåœ°å€æ¬ºéª—çš„ä¿æŠ¤ã€‚æ¬ºéª—æ˜¯ä¸€ç§ä¼ªè£…æˆæœ‰æ•ˆç”¨æˆ·æˆ–ä¸»æœºä»¥è·å¾—å¯¹ç³»ç»Ÿè¿›è¡Œæœªç»æˆæƒçš„è®¿é—®çš„æ–¹æ³•ã€‚</p>
</blockquote>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># TCP Wrappers</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="attr">KILL_HOSTS_DENY</span>=<span class="string">"ALL: $TARGET$"</span></div></pre></td></tr></table></figure>
<p>NO.7 å®šåˆ¶è­¦å‘Šä¿¡æ¯ï¼Œè­¦å‘Šæ”»å‡»è€…</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Port Banner Section</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># Enter text in here you want displayed to a person tripping the PortSentry.</span></div><div class="line"><span class="comment"># I *don't* recommend taunting the person as this will aggravate them.</span></div><div class="line"><span class="comment"># Leave this commented out to disable the feature</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># Stealth scan detection modes don't use this feature</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="attr">PORT_BANNER</span>=<span class="string">"** UNAUTHORIZED ACCESS PROHIBITED *** YOUR CONNECTION ATTEMPT HAS BEEN LOGGED. GO AWAY."</span></div></pre></td></tr></table></figure>
<h3 id="ä¿®æ”¹-portsentry-ignore-çš„é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹-portsentry-ignore-çš„é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹ portsentry.ignore çš„é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹ <code>portsentry.ignore</code> çš„é…ç½®æ–‡ä»¶</h3><p>æ–‡ä»¶ <code>/usr/local/psionic/portsentry/portsentry.ignore</code> é…ç½®ä¸Šæœ¬åœ°çš„ IP å’Œ å¸¸å»ºç«‹è¿æ¥çš„ä¸»æœºï¼Œå…è®¸åˆæ³•æ‰«æ</p>
<p>é…ç½®å¥½ä¹‹åæœ€å¥½ä¿®æ”¹ä¸€ä¸‹ <code>/usr/local/psionic/portsentry/portsentry.conf</code> å’Œ <code>/usr/local/psionic/portsentry/portsentry.ignore</code> çš„æƒé™</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod <span class="number">600</span> <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/psionic/</span>portsentry/portsentry.conf</div><div class="line">chmod <span class="number">600</span> <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/psionic/</span>portsentry/portsentry.ignore</div></pre></td></tr></table></figure>
<h3 id="å¼€å¯ç›‘æµ‹æ¨¡å¼"><a href="#å¼€å¯ç›‘æµ‹æ¨¡å¼" class="headerlink" title="å¼€å¯ç›‘æµ‹æ¨¡å¼"></a>å¼€å¯ç›‘æµ‹æ¨¡å¼</h3><p>PortSentryçš„å¯åŠ¨æ£€æµ‹æ¨¡å¼ã€‚å¯¹åº”TCPå’ŒUDFä¸¤ç§åè®®æ–¹å¼ï¼ŒPortSentryåˆ†åˆ«æœ‰ä¸‰ç§å¯åŠ¨æ¨¡å¼ï¼Œå³åŸºæœ¬ã€ç§˜å¯†å’Œé«˜çº§ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ï¼Œåˆè®¡6ä¸ªæ¨¡å¼ã€‚</p>
<ul>
<li>portsentry-tcpï¼ŒTCPçš„åŸºæœ¬ç«¯å£ç»‘å®šæ¨¡å¼ï¼›</li>
<li>portsentry-udpï¼ŒUDPçš„åŸºæœ¬ç«¯å£ç»‘å®šæ¨¡å¼ï¼›</li>
<li>portsentry-stcpï¼ŒTCPçš„ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ï¼›</li>
<li>portsentry-sudpï¼ŒUDPçš„ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ï¼›</li>
<li>portsentry-atcpï¼ŒTCPçš„é«˜çº§ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ï¼›</li>
<li>portsentry-audpï¼ŒUDPçš„é«˜çº§ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ã€‚</li>
</ul>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼æˆ–é«˜çº§ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ã€‚</strong><br>ä½¿ç”¨é«˜çº§ç§˜å¯†æ‰«ææ£€æµ‹æ¨¡å¼ï¼ˆAdvanced Stealth Scan Detection Modeï¼‰ï¼ŒPortSentryä¼šè‡ªåŠ¨æ£€æŸ¥æœåŠ¡å™¨ä¸Šæ­£åœ¨è¿è¡Œçš„ç«¯å£ï¼Œ ç„¶åæŠŠè¿™äº›ç«¯å£ä»é…ç½®æ–‡ä»¶ä¸­ç§»å»ï¼Œ åªç›‘æ§å…¶å®ƒçš„ç«¯å£ã€‚è¿™æ ·ä¼šåŠ å¿«å¯¹ç«¯å£æ‰«æçš„ååº”é€Ÿåº¦ï¼Œå¹¶ä¸”åªå ç”¨å¾ˆå°‘çš„CPUæ—¶é—´ï¼Œè¿™ç§æ¨¡å¼éå¸¸æ™ºèƒ½</p>
<p>å¯åŠ¨å‘½ä»¤ï¼š</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/usr/</span>local<span class="regexp">/psionic/</span>portsentry<span class="regexp">/portsentry -atcp</span></div></pre></td></tr></table></figure>
<p>å»ºè®®å°†è¿™æ¡å‘½ä»¤å†™å…¥ <code>/etc/rc.local</code> ä¸­ï¼Œè¿™æ ·å¼€æœºå°±è‡ªå¯åŠ¨äº†</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>æˆ‘çš„<code>äº‘ä¸»æœº A</code> <code>IP</code> å‡è®¾ä¸º <code>XXX.XXX.XXX.XXX</code>ï¼Œäº‘ä¸»æœº A ä¸Šé…ç½®å¹¶å¼€å¯äº† <code>portsentry</code><br>å¼€å¯ä¸€å°<code>äº‘ä¸»æœº B</code>ï¼Œ<code>IP</code> åœ°å€ä¸º <code>115.231.183.78</code><br><img src="https://upload.bz1.me/fortestipgs.png?imageView/2/h/50" alt="ip"></p>
<p>ä½¿ç”¨ <code>äº‘ä¸»æœº B</code> æ‰«æ <code>äº‘ä¸»æœº A</code> çš„ç«¯å£<br><img src="https://upload.bz1.me/nmapsaomiao.png?imageView/2/h/300" alt="nmap"></p>
<p><code>äº‘ä¸»æœº A</code> ç›‘æµ‹åˆ°äº†æ¶æ„æ‰«æï¼Œä¼šå°†å…¶åŠ å…¥ <code>/etc/hosts.deny</code>,å¹¶ä¸”åœ¨ <code>/usr/local/psionic/portsentry/portsentry.blocked.atcp</code> ä¼šè®°å½• block æ‰äº†<br><img src="https://upload.bz1.me/denydioale.png" alt=""><br><img src="https://upload.bz1.me/blockded.png?imageView/2/h/300" alt="blockd"></p>
<p>ç®€å•å¤„ç†ä¸€ä¸‹ï¼Œå‘ç°è¿˜æœ‰ä¸æ˜¯è‡ªå·±æ‰«çš„ï¼Œæ— èŠçš„äººä¹Ÿæ˜¯å¤š- -ï¼</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ³¨ï¼šæœ¬æ–‡é‡‡ç”¨çš„æ“ä½œç³»ç»Ÿä¸º ubuntu14.04&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;PortSentry is part of SentryTools. This daemon will watch unused ports for activity and depending on how it is configured take action upon excessive access to watched ports.&lt;br&gt;&lt;a href=&quot;https://wiki.gentoo.org/wiki/PortSentry&quot;&gt;wiki&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;portsentry-é‡‡å–çš„æªæ–½ï¼š&quot;&gt;&lt;a href=&quot;#portsentry-é‡‡å–çš„æªæ–½ï¼š&quot; class=&quot;headerlink&quot; title=&quot;portsentry é‡‡å–çš„æªæ–½ï¼š&quot;&gt;&lt;/a&gt;portsentry é‡‡å–çš„æªæ–½ï¼š&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å°†æµé‡å¼•åˆ°ä¸€ä¸ªè™šå‡çš„è·¯ç”±ï¼Œä¸€ä¸ªä¸å­˜åœ¨çš„ä¸»æœº&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨å¯¹æœåŠ¡å™¨ç«¯å£æ‰«æçš„ä¸»æœºåŠ åˆ° /etc/hosts.deny æ–‡ä»¶ä¸­å»&lt;/li&gt;
&lt;li&gt;åˆ©ç”¨ Netfiliter æœºåˆ¶ï¼Œç”¨åŒ…è¿‡æ»¤çš„æœºåˆ¶ï¼Œä¾‹å¦‚ iptables å’Œ ipchain ç­‰ï¼ŒæŠŠéæ³•çš„æ•°æ®åŒ…ï¼ˆæ¥è‡ªå¯¹ä¸»æœºè¿›è¡Œç«¯å£æ‰«æçš„ä¸»æœºï¼‰éƒ½è¿‡æ»¤æ‰ï¼›&lt;/li&gt;
&lt;li&gt;é€šè¿‡ syslog() å‡½æ•°ç»™å‡ºä¸€ä¸ªæ—¥å¿—æ¶ˆæ¯ï¼Œæˆ–è€…ä¸€æ®µè­¦å‘Šä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;portsentry-å®‰è£…&quot;&gt;&lt;a href=&quot;#portsentry-å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;portsentry å®‰è£…&quot;&gt;&lt;/a&gt;portsentry å®‰è£…&lt;/h2&gt;&lt;p&gt;ä¸‹è½½åœ°å€&lt;/p&gt;
&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;http:&lt;span class=&quot;regexp&quot;&gt;//&lt;/span&gt;sourceforge.net&lt;span class=&quot;regexp&quot;&gt;/projects/&lt;/span&gt;sentrytools&lt;span class=&quot;regexp&quot;&gt;/&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è§£å‹&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;zxvf&lt;/span&gt; &lt;span class=&quot;selector-tag&quot;&gt;portsentry-1&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.2&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.tar&lt;/span&gt;&lt;span class=&quot;selector-class&quot;&gt;.gz&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸èƒ½ç›´æ¥ç¼–è¯‘ï¼Œè¿™é‡Œæœ‰ç‚¹ç‰¹æ®Šï¼Œè§£å‹å®Œçš„åŒ…ä¸­ï¼Œ&lt;code&gt;portsentry.c&lt;/code&gt;è¿™ä¸ªæ–‡ä»¶ä¸­åœ¨&lt;code&gt;1584&lt;/code&gt;è¡Œæœ‰ä¸€å¤„é”™è¯¯ï¼Œå°†å…¶æ”¹æˆä¸€è¡Œ&lt;/p&gt;
&lt;figure class=&quot;highlight abnf&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;printf (&lt;span class=&quot;string&quot;&gt;&quot;Copyright 1997-2003 Craig H. Rowland &amp;lt;craigrowland at users dot sourceforget dot net&amp;gt;\n&quot;&lt;/span&gt;)&lt;span class=&quot;comment&quot;&gt;;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;https://upload.bz1.me/portsentry1588c.png?imageView/2/h/300&quot; alt=&quot;portsentry&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè¿›è¡Œç¼–è¯‘&lt;/p&gt;
&lt;figure class=&quot;highlight gauss&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt; linux&amp;amp; &lt;span class=&quot;built_in&quot;&gt;make&lt;/span&gt; install&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆåŠŸå®‰è£…ï¼Œå®‰è£…çš„è·¯åŠ²ä¸º&lt;code&gt;/usr/local/psionic/portsentry&lt;/code&gt;&lt;br&gt;
    
    </summary>
    
      <category term="linux" scheme="https://www.bz1.me/categories/linux/"/>
    
    
      <category term="notes" scheme="https://www.bz1.me/tags/notes/"/>
    
      <category term="linux" scheme="https://www.bz1.me/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>å®ç° socks5 è½¬æ¢ä¸º http ä»£ç†ç§‘å­¦ä¸Šç½‘ (shadowsocks + polipo + pac)</title>
    <link href="https://www.bz1.me/ss-polipo-pac.html"/>
    <id>https://www.bz1.me/ss-polipo-pac.html</id>
    <published>2016-09-26T14:35:32.000Z</published>
    <updated>2016-12-18T02:48:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡å°†ä»<strong>ä»£ç†</strong>æ•™ä¼šå¤§å®¶å¦‚ä½•ç§‘å­¦ä¸Šç½‘ï¼Œä½œä¸ºç¬”è®°åˆ†äº«ï¼Œå…±åŒå­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ã€‚</p>
<p>æ¶‰åŠå¦‚ä¸‹ä¸‰å¤§å—å†…å®¹ï¼š</p>
<ul>
<li>shadowsocksï¼ˆå›½å¤–+å›½å†…ï¼‰</li>
<li>polipo</li>
<li>pac </li>
</ul>
<h2 id="æœåŠ¡ç«¯å®‰è£…-shadowsocks"><a href="#æœåŠ¡ç«¯å®‰è£…-shadowsocks" class="headerlink" title="æœåŠ¡ç«¯å®‰è£… shadowsocks"></a>æœåŠ¡ç«¯å®‰è£… shadowsocks</h2><p>ubuntu 14.04<br>1.ç”±äº <code>shadowsocks</code> æ˜¯åŸºäº <code>Python</code> å¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… <code>Python</code></p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="built_in">get</span> <span class="keyword">update</span></div></pre></td></tr></table></figure>
<p>2.å®‰è£… <code>Python</code> çš„åŒ…ç®¡ç†å™¨ <code>pip</code></p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="built_in">get</span> install <span class="keyword">python</span>-pip</div></pre></td></tr></table></figure>
<p>3.<code>pip</code> å®‰è£…å¥½ä¹‹åï¼Œç›´æ¥å®‰è£… <code>shadowsocks</code></p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo pip <span class="keyword">install</span> shadowsocks</div></pre></td></tr></table></figure>
<h3 id="é…ç½®-shadowsocks"><a href="#é…ç½®-shadowsocks" class="headerlink" title="é…ç½® shadowsocks"></a>é…ç½® shadowsocks</h3><p>åœ¨ <code>/etc/</code> ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ <code>shadowsocks.json</code></p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"server"</span><span class="symbol">:<span class="string">"0.0.0.0"</span></span>,             <span class="comment">#æœåŠ¡å™¨ ipï¼ˆ the ip your server listens ï¼‰</span></div><div class="line">    <span class="string">"server_port"</span><span class="symbol">:&lt;</span>ç«¯å£å·<span class="number">1</span>&gt;,         <span class="comment">#å®¢æˆ·ç«¯è¿æ¥ç«¯å£ï¼Œæœ¬åœ°ä¾¦å¬</span></div><div class="line">    <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,   <span class="comment">#æœ¬åœ°ä»£ç†åœ°å€( the address your local listen )</span></div><div class="line">    <span class="string">"local_port"</span><span class="symbol">:&lt;</span>ç«¯å£å·<span class="number">2</span>&gt;,          <span class="comment">#è‡ªå·±è®¾å®šçš„ç«¯å£å·( local port 127.0.0.1)</span></div><div class="line">    <span class="string">"password"</span><span class="symbol">:<span class="string">"&lt;password&gt;"</span></span>,        <span class="comment">#å®¢æˆ·ç«¯è¿æ¥å¯†ç </span></div><div class="line">    <span class="string">"timeout"</span><span class="symbol">:</span><span class="number">300</span>,                  <span class="comment">#è¶…æ—¶æ—¶é—´</span></div><div class="line">    <span class="string">"method"</span><span class="symbol">:<span class="string">"aes-256-cfb"</span></span>,         <span class="comment">#åŠ å¯†æ–¹å¼</span></div><div class="line">    <span class="string">"fast_open"</span>: <span class="keyword">false</span>              <span class="comment">#æ˜¯å¦ä½¿ç”¨ tcp</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>æ³¨æ„ï¼š</strong>ä¸Šè¿°çš„ shadowsocks.json æ˜¯åœ¨å›½å¤–çš„ä¸»æœºä¸Šè¿›è¡Œçš„é…ç½®</p>
<h3 id="æœåŠ¡ç«¯å¯åŠ¨-shadowsocksï¼ˆä¸¤ç§æ–¹å¼ï¼‰"><a href="#æœåŠ¡ç«¯å¯åŠ¨-shadowsocksï¼ˆä¸¤ç§æ–¹å¼ï¼‰" class="headerlink" title="æœåŠ¡ç«¯å¯åŠ¨ shadowsocksï¼ˆä¸¤ç§æ–¹å¼ï¼‰"></a>æœåŠ¡ç«¯å¯åŠ¨ shadowsocksï¼ˆä¸¤ç§æ–¹å¼ï¼‰</h3><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ç¬¬ä¸€ç§</div><div class="line">sudo ssserver -c /etc/shadowsocks.json -d start</div><div class="line"></div><div class="line">ç¬¬äºŒç§</div><div class="line">sudo ssserver -s &lt;Server_ip&gt; -p &lt;ç«¯å£å·<span class="number">1</span>&gt; -k &lt;password&gt; -m &lt;<span class="function"><span class="keyword">method</span>&gt; -<span class="title">d</span> <span class="title">start</span></span></div></pre></td></tr></table></figure>
<h4 id="é…ç½®å¼€æœºè‡ªå¯åŠ¨"><a href="#é…ç½®å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="é…ç½®å¼€æœºè‡ªå¯åŠ¨"></a>é…ç½®å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/rc<span class="selector-class">.local</span></div><div class="line"></div><div class="line">æ·»åŠ ä¸€æ¡</div><div class="line">sudo ssserver -c /etc/shadowsocks<span class="selector-class">.json</span> -d start</div></pre></td></tr></table></figure>
<h4 id="åœæ­¢"><a href="#åœæ­¢" class="headerlink" title="åœæ­¢"></a>åœæ­¢</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ssserver -c shadowsocks<span class="selector-class">.json</span> -d stop</div></pre></td></tr></table></figure>
<h3 id="æ£€æŸ¥æ—¥å¿—"><a href="#æ£€æŸ¥æ—¥å¿—" class="headerlink" title="æ£€æŸ¥æ—¥å¿—"></a>æ£€æŸ¥æ—¥å¿—</h3><figure class="highlight lasso"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo less /<span class="built_in">var</span>/<span class="keyword">log</span>/shadowsocks.<span class="keyword">log</span></div></pre></td></tr></table></figure>
<h2 id="å®¢æˆ·ç«¯å®‰è£…-shadowsocks"><a href="#å®¢æˆ·ç«¯å®‰è£…-shadowsocks" class="headerlink" title="å®¢æˆ·ç«¯å®‰è£… shadowsocks"></a>å®¢æˆ·ç«¯å®‰è£… shadowsocks</h2><p>å®‰è£…æ–¹æ³•åŒæœåŠ¡ç«¯ï¼Œé…ç½®æœ‰ç‚¹åŒºåˆ«<br>è¿™é‡Œæ˜¯ <code>shadowsocks.json</code> çš„é…ç½®ï¼š</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="string">"server"</span><span class="symbol">:<span class="string">"&lt;Server_ip&gt;"</span></span>,         <span class="comment">#è¿æ¥å›½å¤–æœåŠ¡å™¨çš„ ip</span></div><div class="line">    <span class="string">"server_port"</span><span class="symbol">:&lt;</span>ç«¯å£å·<span class="number">1</span>&gt;,         <span class="comment">#è¿æ¥å›½å¤–æœåŠ¡å™¨çš„ç«¯å£</span></div><div class="line">    <span class="string">"local_address"</span><span class="symbol">:<span class="string">"0.0.0.0"</span></span>,      <span class="comment">#è¡¨ç¤ºä¾¦å¬æ¥è‡ªæ‰€æœ‰ ip çš„è¯·æ±‚</span></div><div class="line">    <span class="string">"local_port"</span><span class="symbol">:&lt;</span>ç«¯å£å·<span class="number">3</span>&gt;,          <span class="comment">#socks5ä¾¦å¬çš„ç«¯å£ï¼ˆpolipo ä¸­ socksParentProxyï¼‰</span></div><div class="line">    <span class="string">"password"</span><span class="symbol">:<span class="string">"&lt;key&gt;"</span></span>,             <span class="comment">#è¿æ¥æœåŠ¡å™¨çš„å¯†ç </span></div><div class="line">    <span class="string">"timeout"</span><span class="symbol">:</span><span class="number">300</span>,</div><div class="line">    <span class="string">"method"</span><span class="symbol">:<span class="string">"aes-256-cfb"</span></span>,</div><div class="line">    <span class="string">"fast_open"</span><span class="symbol">:false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="å®¢æˆ·ç«¯å¯åŠ¨-shadowsocksï¼ˆä¸¤ç§æ–¹æ³•ï¼‰"><a href="#å®¢æˆ·ç«¯å¯åŠ¨-shadowsocksï¼ˆä¸¤ç§æ–¹æ³•ï¼‰" class="headerlink" title="å®¢æˆ·ç«¯å¯åŠ¨ shadowsocksï¼ˆä¸¤ç§æ–¹æ³•ï¼‰"></a>å®¢æˆ·ç«¯å¯åŠ¨ shadowsocksï¼ˆä¸¤ç§æ–¹æ³•ï¼‰</h3><figure class="highlight oxygene"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ç¬¬ä¸€ç§</div><div class="line">sudo sslocal -c /etc/shadowsocks.json -d restart</div><div class="line"></div><div class="line">ç¬¬äºŒç§</div><div class="line">sudo sslocal -s &lt;Server_ip&gt; -p &lt;ç«¯å£å·<span class="number">1</span>&gt; -k &lt;password&gt; -m &lt;<span class="function"><span class="keyword">method</span>&gt; -<span class="title">b</span> 0.0.0.0 -<span class="title">l</span> &lt;ç«¯å£å·3&gt; -<span class="title">d</span> <span class="title">start</span></span></div></pre></td></tr></table></figure>
<p>è¿™æ ·æ‰§è¡Œä»¥åè¿™å°ä¸»æœºå°±ä¼šè¿æ¥åˆ°å›½å¤–çš„ä¸»æœºï¼Œå¹¶å¼€å§‹ä¾¦å¬<code>&lt;ç«¯å£å·3&gt;</code>çš„ socks5ä»£ç†äº†</p>
<h4 id="é…ç½®å¼€æœºè‡ªå¯åŠ¨-1"><a href="#é…ç½®å¼€æœºè‡ªå¯åŠ¨-1" class="headerlink" title="é…ç½®å¼€æœºè‡ªå¯åŠ¨"></a>é…ç½®å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/rc<span class="selector-class">.local</span></div><div class="line"></div><div class="line">æ·»åŠ ä¸€æ¡</div><div class="line">sudo sslocal -c /etc/shadowsocks<span class="selector-class">.json</span> -d restart</div></pre></td></tr></table></figure>
<h4 id="åœæ­¢-1"><a href="#åœæ­¢-1" class="headerlink" title="åœæ­¢"></a>åœæ­¢</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo sslocal -c /etc/shadowsocks<span class="selector-class">.json</span> -d stop</div></pre></td></tr></table></figure>
<p><strong>è‡³æ­¤ï¼Œshadowsocks çš„é…ç½®å°±ç»“æŸäº†ã€‚</strong></p>
<h2 id="polipo"><a href="#polipo" class="headerlink" title="polipo"></a>polipo</h2><blockquote>
<p><a href="https://wiki.archlinux.org/index.php/Polipo_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87" target="_blank" rel="external">polipo ç®€ä»‹</a>)<br>Polipo æ˜¯ä¸€ä¸ªå°è€Œå¿«é€Ÿçš„ç¼“å­˜ web ä»£ç†ç¨‹åº(web ç¼“å­˜, HTTP ä»£ç†, ä»£ç†æœåŠ¡å™¨)ï¼Œå¯ä»¥å°† socks5ä»£ç†è½¬æ¢ä¸º http ä»£ç†</p>
</blockquote>
<h3 id="å®‰è£…-polipo"><a href="#å®‰è£…-polipo" class="headerlink" title="å®‰è£… polipo"></a>å®‰è£… polipo</h3><p>ubuntu 14.04</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-<span class="keyword">get</span> install polipo</div></pre></td></tr></table></figure>
<h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><p>/etc/polipo/config<br>åœ¨é…ç½®æ–‡ä»¶ä¸­æ–°å¢å¦‚ä¸‹å†…å®¹</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="attr">logSyslog</span> = <span class="literal">true</span>                        </div><div class="line"><span class="attr">logFile</span> = /var/log/polipo/polipo.log    #æ—¥å¿—</div><div class="line"><span class="attr">proxyAddress</span> = <span class="string">"0.0.0.0"</span>                #ç›‘å¬åœ°å€ï¼Œå››ä¸ª<span class="number">0</span>è¡¨ç¤ºåŒ¹é…æ‰€æœ‰</div><div class="line"><span class="attr">proxyPort</span> = &lt;ç«¯å£å·<span class="number">4</span>&gt;                    #http ç›‘å¬ç«¯å£ï¼ˆåŒ PAC é…ç½®æ–‡ä»¶ï¼‰</div><div class="line"><span class="attr">socksParentProxy</span> = <span class="string">"127.0.0.1:&lt;ç«¯å£å·3&gt;"</span> #æŒ‡å®š `socksProxyType` çš„ä¸€çº§ä»£ç†</div><div class="line"><span class="attr">socksProxyType</span> = socks5                 #ä»£ç†ç±»å‹ä¸º `socks5`</div></pre></td></tr></table></figure>
<h3 id="å¯åŠ¨-polipo"><a href="#å¯åŠ¨-polipo" class="headerlink" title="å¯åŠ¨ polipo"></a>å¯åŠ¨ polipo</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service polipo <span class="literal">start</span></div></pre></td></tr></table></figure>
<h4 id="é…ç½®å¼€æœºè‡ªå¯åŠ¨-2"><a href="#é…ç½®å¼€æœºè‡ªå¯åŠ¨-2" class="headerlink" title="é…ç½®å¼€æœºè‡ªå¯åŠ¨"></a>é…ç½®å¼€æœºè‡ªå¯åŠ¨</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/rc.<span class="built_in">local</span></div><div class="line"></div><div class="line">æ·»åŠ ä¸€æ¡</div><div class="line">sudo service polipo <span class="built_in">start</span></div></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œpolipo çš„é…ç½®å®Œæ¯•ï¼Œå¹¶ä¸”å¯ä»¥æœ¬åœ°æµ‹è¯•ä¸€ä¸‹æ˜¯å¦å·²ç»ä»£ç†åˆ°äº†å›½å¤–ä¸»æœº</p>
<blockquote>
<p>æµ‹è¯•æ–¹æ³•ï¼š<br>æµè§ˆå™¨è®¾ç½®socks5ä»£ç†(ipä¸ºå›½å†…æœåŠ¡å™¨ï¼Œç«¯å£ä¸ºæœ¬åœ°ä¾¦å¬çš„ç«¯å£3)ç¡®è®¤æ˜¯å¦é€šè¿‡ssç¿»å¢™</p>
</blockquote>
<h3 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h3><h2 id="PAC-æ–‡ä»¶"><a href="#PAC-æ–‡ä»¶" class="headerlink" title="PAC æ–‡ä»¶"></a>PAC æ–‡ä»¶</h2><p>ç±»ä¼¼ç»‘å®š host å»è®¿é—®å›½å¤–çš„ç½‘ç«™ï¼Œé€šè¿‡FindProxyForURL(url, host)è¿™ä¸ªå‡½æ•°å»å®ç°ã€‚<br>å‚æ•° urlï¼šç½‘ç«™ or é“¾æ¥<br>å‚æ•° hostï¼šå¯¹åº”çš„ä¸»æœºå</p>
<h4 id="ä¸¾ä¾‹ï¼š"><a href="#ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸¾ä¾‹ï¼š"></a>ä¸¾ä¾‹ï¼š</h4><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">FindProxyForURL</span><span class="params">(url, host)</span> </span>&#123; <span class="keyword">return</span> <span class="string">"PROXY proxy.example.com:&lt;ç«¯å£4&gt;; DIRECT"</span>; &#125;</div></pre></td></tr></table></figure>
<p>æŒ‡å®šæ‰€æœ‰é€šè¿‡æ‰€æœ‰çš„æµé‡éƒ½é€šè¿‡<code>proxy.example.com</code>çš„<code>ç«¯å£4</code>ä»£ç†å‡ºå»</p>
<h4 id="ä¸‹è½½ï¼š"><a href="#ä¸‹è½½ï¼š" class="headerlink" title="ä¸‹è½½ï¼š"></a>ä¸‹è½½ï¼š</h4><p><a href="https://www.bz1.me/a.pac?attname=">ç‚¹å‡»ä¸‹è½½</a></p>
<h4 id="é…ç½®ï¼š"><a href="#é…ç½®ï¼š" class="headerlink" title="é…ç½®ï¼š"></a>é…ç½®ï¼š</h4><p><code>PAC</code>æ–‡ä»¶éœ€è¦å¯ä»¥è¢«è®¿é—®ï¼Œå»ºè®®æ”¾åœ¨<a href="portal.qiniu.com">ä¸ƒç‰›</a>æˆ–è€…<a href="aliyun.com">é˜¿é‡ŒOSS</a>è¿™æ ·çš„äº‘å­˜å‚¨ä¸Š</p>
<p>å‡å¦‚æ˜¯ä¸ƒç‰›ï¼Œå¯ä»¥å‚è€ƒä¸ƒç‰›çš„<a href="http://developer.qiniu.com/article/kodo/kodo-first/quickstart.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>è¿›è¡Œä¸Šä¼ å’Œè®¿é—®</p>
<p>ç”Ÿæˆçš„æ¨¡æ¿å¦‚ä¸‹ï¼š<br><code>http://domain/a.pac</code></p>
<h3 id="é…ç½®åœ¨-MAC-ä¸Š"><a href="#é…ç½®åœ¨-MAC-ä¸Š" class="headerlink" title="é…ç½®åœ¨ MAC ä¸Š"></a>é…ç½®åœ¨ MAC ä¸Š</h3><p>æ‰“å¼€<strong>ç³»ç»Ÿåå¥½è®¾ç½®</strong>ï¼Œé€‰æ‹©<strong>ç½‘ç»œ</strong><br><img src="https://upload.bz1.me/macproxy.png" alt="macproxy"></p>
<p>é€‰æ‹©<strong>é«˜çº§</strong><br><img src="https://upload.bz1.me/gaojiproxy.png" alt="gaojiproxy"></p>
<p>é€‰æ‹©<strong>ä»£ç†</strong>ï¼Œé€‰æ‹©<strong>è‡ªåŠ¨ä»£ç†è®¾ç½®</strong>ï¼ŒURL å¤„å¡«å†™ PAC æ–‡ä»¶çš„è®¿é—®åœ°å€<br><img src="https://upload.bz1.me/zidongproxy.png" alt=""></p>
<h3 id="é…ç½®åœ¨-IOS-æ‰‹æœºä¸Š"><a href="#é…ç½®åœ¨-IOS-æ‰‹æœºä¸Š" class="headerlink" title="é…ç½®åœ¨ IOS æ‰‹æœºä¸Š"></a>é…ç½®åœ¨ IOS æ‰‹æœºä¸Š</h3><p>æ‰“å¼€<strong>è®¾ç½®</strong>==&gt;<strong>æ— çº¿å±€åŸŸç½‘</strong>ï¼Œç‚¹å‡»ç®­å¤´æ‰€æŒ‡ä½ç½®<br><img src="https://upload.bz1.me/qiniu5G.png" alt="wifi"></p>
<p>åœ¨æœ€ä¸‹é¢çš„ HTTP ä»£ç†ä¸­é€‰æ‹©<strong>è‡ªåŠ¨</strong><br><img src="https://upload.bz1.me/httpproxypac.png" alt="httpproxypac"></p>
<p>æ­¤æ—¶ï¼ŒMAC å’Œ IOS éƒ½å¯ä»¥ç§‘å­¦ä¸Šç½‘å•¦~~~</p>
<p>æ›´å¤šæ–¹å¼è¿›è¡Œä»£ç†è¯·å‚è€ƒ <a href="https://tyr.gift/pac-proxy.html" target="_blank" rel="external">å…³äºPACè‡ªåŠ¨ä»£ç†å’Œiosç¿»å¢™</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡å°†ä»&lt;strong&gt;ä»£ç†&lt;/strong&gt;æ•™ä¼šå¤§å®¶å¦‚ä½•ç§‘å­¦ä¸Šç½‘ï¼Œä½œä¸ºç¬”è®°åˆ†äº«ï¼Œå…±åŒå­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ã€‚&lt;/p&gt;
&lt;p&gt;æ¶‰åŠå¦‚ä¸‹ä¸‰å¤§å—å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;shadowsocksï¼ˆå›½å¤–+å›½å†…ï¼‰&lt;/li&gt;
&lt;li&gt;polipo&lt;/li&gt;
&lt;li&gt;pac &lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;æœåŠ¡ç«¯å®‰è£…-shadowsocks&quot;&gt;&lt;a href=&quot;#æœåŠ¡ç«¯å®‰è£…-shadowsocks&quot; class=&quot;headerlink&quot; title=&quot;æœåŠ¡ç«¯å®‰è£… shadowsocks&quot;&gt;&lt;/a&gt;æœåŠ¡ç«¯å®‰è£… shadowsocks&lt;/h2&gt;&lt;p&gt;ubuntu 14.04&lt;br&gt;1.ç”±äº &lt;code&gt;shadowsocks&lt;/code&gt; æ˜¯åŸºäº &lt;code&gt;Python&lt;/code&gt; å¼€å‘çš„ï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£… &lt;code&gt;Python&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight q&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;update&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.å®‰è£… &lt;code&gt;Python&lt;/code&gt; çš„åŒ…ç®¡ç†å™¨ &lt;code&gt;pip&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight vim&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo apt-&lt;span class=&quot;built_in&quot;&gt;get&lt;/span&gt; install &lt;span class=&quot;keyword&quot;&gt;python&lt;/span&gt;-pip&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;3.&lt;code&gt;pip&lt;/code&gt; å®‰è£…å¥½ä¹‹åï¼Œç›´æ¥å®‰è£… &lt;code&gt;shadowsocks&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight cmake&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo pip &lt;span class=&quot;keyword&quot;&gt;install&lt;/span&gt; shadowsocks&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;é…ç½®-shadowsocks&quot;&gt;&lt;a href=&quot;#é…ç½®-shadowsocks&quot; class=&quot;headerlink&quot; title=&quot;é…ç½® shadowsocks&quot;&gt;&lt;/a&gt;é…ç½® shadowsocks&lt;/h3&gt;&lt;p&gt;åœ¨ &lt;code&gt;/etc/&lt;/code&gt; ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ &lt;code&gt;shadowsocks.json&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;server&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;span class=&quot;string&quot;&gt;&quot;0.0.0.0&quot;&lt;/span&gt;&lt;/span&gt;,             &lt;span class=&quot;comment&quot;&gt;#æœåŠ¡å™¨ ipï¼ˆ the ip your server listens ï¼‰&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;server_port&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&amp;lt;&lt;/span&gt;ç«¯å£å·&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;gt;,         &lt;span class=&quot;comment&quot;&gt;#å®¢æˆ·ç«¯è¿æ¥ç«¯å£ï¼Œæœ¬åœ°ä¾¦å¬&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;local_address&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;,   &lt;span class=&quot;comment&quot;&gt;#æœ¬åœ°ä»£ç†åœ°å€( the address your local listen )&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;local_port&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&amp;lt;&lt;/span&gt;ç«¯å£å·&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&amp;gt;,          &lt;span class=&quot;comment&quot;&gt;#è‡ªå·±è®¾å®šçš„ç«¯å£å·( local port 127.0.0.1)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;password&amp;gt;&quot;&lt;/span&gt;&lt;/span&gt;,        &lt;span class=&quot;comment&quot;&gt;#å®¢æˆ·ç«¯è¿æ¥å¯†ç &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;timeout&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;300&lt;/span&gt;,                  &lt;span class=&quot;comment&quot;&gt;#è¶…æ—¶æ—¶é—´&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;method&quot;&lt;/span&gt;&lt;span class=&quot;symbol&quot;&gt;:&lt;span class=&quot;string&quot;&gt;&quot;aes-256-cfb&quot;&lt;/span&gt;&lt;/span&gt;,         &lt;span class=&quot;comment&quot;&gt;#åŠ å¯†æ–¹å¼&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;string&quot;&gt;&quot;fast_open&quot;&lt;/span&gt;: &lt;span class=&quot;keyword&quot;&gt;false&lt;/span&gt;              &lt;span class=&quot;comment&quot;&gt;#æ˜¯å¦ä½¿ç”¨ tcp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="linux" scheme="https://www.bz1.me/categories/linux/"/>
    
    
      <category term="notes" scheme="https://www.bz1.me/tags/notes/"/>
    
      <category term="proxy" scheme="https://www.bz1.me/tags/proxy/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ƒç‰›ç›´æ’­åŸŸåå›¾è§£</title>
    <link href="https://www.bz1.me/livedomain.html"/>
    <id>https://www.bz1.me/livedomain.html</id>
    <published>2016-08-18T13:56:25.000Z</published>
    <updated>2016-12-14T05:56:18.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸ƒç‰›ç›´æ’­åŸŸå"><a href="#ä¸ƒç‰›ç›´æ’­åŸŸå" class="headerlink" title="ä¸ƒç‰›ç›´æ’­åŸŸå"></a>ä¸ƒç‰›ç›´æ’­åŸŸå</h1><p>å¦‚å›¾æ‰€ç¤ºï¼š</p>
<ul>
<li>rtmpæ¨æµåŸŸå</li>
<li>rtmpæ’­æ”¾åŸŸå</li>
<li>hlsæ’­æ”¾åŸŸå</li>
<li>flvæ’­æ”¾åŸŸå</li>
</ul>
<p>æ‰€å¯¹åº”åœ°å€åŠå…¶ç»„æˆæ ¼å¼</p>
<p><img src="https://upload.bz1.me/tu.png" alt=""></p>
<p>å¼€é€šä¸ƒç‰›äº‘ç›´æ’­ï¼Œæ¬¢è¿è®¿é—®ï¼š<a href="http://www.qiniu.com/" target="_blank" rel="external">http://www.qiniu.com/</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä¸ƒç‰›ç›´æ’­åŸŸå&quot;&gt;&lt;a href=&quot;#ä¸ƒç‰›ç›´æ’­åŸŸå&quot; class=&quot;headerlink&quot; title=&quot;ä¸ƒç‰›ç›´æ’­åŸŸå&quot;&gt;&lt;/a&gt;ä¸ƒç‰›ç›´æ’­åŸŸå&lt;/h1&gt;&lt;p&gt;å¦‚å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rtmpæ¨æµåŸŸå&lt;/li&gt;
&lt;li&gt;rtmpæ’­æ”¾åŸŸå&lt;/li&gt;
&lt;li
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
  </entry>
  
  <entry>
    <title>é…ç½®CDNåŠ é€ŸåŸŸåæ—¶CNAMEä¸Aè®°å½•å†²çªåŸå› åŠè§£å†³æ–¹å¼</title>
    <link href="https://www.bz1.me/%E5%9F%9F%E5%90%8Da%E8%AE%B0%E5%BD%95%E5%92%8Ccname%E5%86%B2%E7%AA%81.html"/>
    <id>https://www.bz1.me/åŸŸåaè®°å½•å’Œcnameå†²çª.html</id>
    <published>2016-07-25T08:45:07.000Z</published>
    <updated>2016-12-18T02:46:32.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>å‡å¦‚ç”¨æˆ·çš„ä¸»é¡µä¸ºwww.xxx.comï¼Œä¸ºäº†ä½¿ç”¨CDNåŠ é€Ÿï¼Œåœ¨ä¸ƒç‰›ä¹Ÿç»‘å®šäº†åŠ é€ŸåŸŸåä¸ºwww.xxx.comï¼Œç»‘å®šå¥½äº†ä¹‹åï¼Œä¸ƒç‰›è¿”å›ç»™ç”¨æˆ·ä¸€ä¸ªCNAMEçš„åœ°å€ï¼Œæ­¤æ—¶ç”¨æˆ·å»åŸŸåæä¾›å•†é‚£è¾¹å»é…ç½®CNAMEï¼Œç„¶åæç¤º â€œCNAMEè®°å½•ä¸ä¸»æœºè®°å½•çš„Aè®°å½•å†²çªï¼Œæ— æ³•ä¿å­˜æˆåŠŸâ€<br><img src="https://upload.bz1.me/cnameå†²çª.png" alt=""></p>
<h2 id="é—®é¢˜åŸå› "><a href="#é—®é¢˜åŸå› " class="headerlink" title="é—®é¢˜åŸå› "></a>é—®é¢˜åŸå› </h2><p>Aè®°å½•å°±æ˜¯æŠŠä¸€ä¸ªåŸŸåè§£æåˆ°ä¸€ä¸ªIPåœ°å€ï¼ˆAddressï¼Œç‰¹åˆ¶æ•°å­—IPåœ°å€ï¼‰ï¼Œè€ŒCNAMEè®°å½•å°±æ˜¯æŠŠåŸŸåè§£æåˆ°å¦å¤–ä¸€ä¸ªåŸŸåã€‚å…¶åŠŸèƒ½æ˜¯å·®ä¸å¤šï¼ŒCNAMEå°†å‡ ä¸ªä¸»æœºåæŒ‡å‘ä¸€ä¸ªåˆ«åï¼Œå…¶å®è·ŸæŒ‡å‘IPåœ°å€æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™ä¸ªåˆ«åä¹Ÿè¦åšä¸€ä¸ªAè®°å½•çš„ã€‚<br><strong>è¿™ä¸¤ä¸ªéƒ½æ˜¯å°†æ‚¨çš„å½“å‰åŸŸåï¼ˆwww.xxx.comï¼‰å»è§£æåˆ°ä¸€ä¸ªIPæˆ–è€…ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå½“è®¿é—®æ‚¨å½“å‰åŸŸåçš„æ—¶å€™ä¼šè§£æè¿‡å»ï¼Œä½†æ˜¯ä¸€ä¸ªåŸŸåä¸å¯ä»¥è§£æåˆ°ä¸¤ä¸ªæœåŠ¡å™¨ã€‚</strong><br><a id="more"></a></p>
<h2 id="è§„é¿æ–¹å¼"><a href="#è§„é¿æ–¹å¼" class="headerlink" title="è§„é¿æ–¹å¼"></a>è§„é¿æ–¹å¼</h2><p>æœ¬æ–‡æä¾›ä¸¤ç§æ–¹å¼æ¥è§£å†³æ—¢æƒ³ä½¿ç”¨CDNåŠ é€Ÿï¼Œåˆæƒ³ä½¿ç”¨wwwçš„åŸŸåã€‚</p>
<h3 id="æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨CDNåŠ é€Ÿï¼Œä¸ä½¿ç”¨å¯¹è±¡å­˜å‚¨"><a href="#æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨CDNåŠ é€Ÿï¼Œä¸ä½¿ç”¨å¯¹è±¡å­˜å‚¨" class="headerlink" title="æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨CDNåŠ é€Ÿï¼Œä¸ä½¿ç”¨å¯¹è±¡å­˜å‚¨"></a>æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨CDNåŠ é€Ÿï¼Œä¸ä½¿ç”¨å¯¹è±¡å­˜å‚¨</h3><p>1.åœ¨ä¸ƒç‰›ç»‘å®šäº†www.xxx.comçš„åŸŸå<br><img src="https://upload.bz1.me/åŠ é€Ÿ.png" alt=""><br>2.æºç«™é…ç½®ä¸­é€‰æ‹©IPåœ°å€ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸‹æºç«™å¯è®¿é—®çš„ä¸€ä¸ªæ–‡ä»¶åï¼ˆé€šè¿‡<em>http://<ip>/æ–‡ä»¶å</ip></em> å¯è®¿é—®ï¼‰ï¼Œç„¶åç‚¹å‡»æµ‹è¯•ï¼Œæµ‹è¯•é€šè¿‡å˜ä¸ºç»¿è‰²å­—æ ·å³å¯ã€‚<br><img src="https://upload.bz1.me/cdnconf.png" alt=""><br>3.ç­‰å€™ä¸ƒç‰›å¤„ç†å®Œæ¯•ï¼Œå¹¶è¿”å›CNAMEåœ°å€<br><img src="https://upload.bz1.me/cnameconff.png" alt=""><br>4.åˆ°åŸŸåæä¾›ä¸Šé‚£è¾¹è¿›è¡ŒCNAME<br><img src="https://upload.bz1.me/ali.png" alt=""><br>é…ç½®å®Œæ¯•ï¼Œwww.xxx.comå¼€å¯äº†CDNåŠ é€Ÿ</p>
<h3 id="æ–¹å¼äºŒï¼šä½¿ç”¨ä¸ƒç‰›é•œåƒå­˜å‚¨"><a href="#æ–¹å¼äºŒï¼šä½¿ç”¨ä¸ƒç‰›é•œåƒå­˜å‚¨" class="headerlink" title="æ–¹å¼äºŒï¼šä½¿ç”¨ä¸ƒç‰›é•œåƒå­˜å‚¨"></a>æ–¹å¼äºŒï¼šä½¿ç”¨ä¸ƒç‰›é•œåƒå­˜å‚¨</h3><p>1.åˆ é™¤æ‚¨åŸŸåæä¾›å•†é‚£è¾¹ä¸»æœºè®°å½•ä¸ºwwwçš„Aè®°å½•å’ŒCNAME<br>2.é…ç½®test.xxx.comï¼Œé…ç½®Aè®°å½•ä¸»æœºè®°å½•wwwï¼Œè®°å½•å€¼ä¸ºæ‚¨çš„æœåŠ¡å™¨IP<br><img src="https://upload.bz1.me/dfsfsdf.png" alt=""><br>3.åœ¨ä¸ƒç‰›ç»‘å®šwww.xxx.comçš„åŸŸå<br><img src="https://upload.bz1.me/åŠ é€Ÿ.png" alt=""><br>4.æºç«™é…ç½®ä¸­é€‰æ‹©ä¸ƒç‰›äº‘å­˜å‚¨ï¼Œé€‰å®šä¸€ä¸ªbucketï¼Œé€‰æ‹©åˆ›å»º<br><img src="https://upload.bz1.me/ceshi.png" alt=""><br>5.ç­‰å€™ä¸ƒç‰›å¤„ç†å®Œæ¯•ï¼Œå¹¶è¿”å›CNAMEåœ°å€<br><img src="https://upload.bz1.me/cnameconff.png" alt=""><br>6.åˆ°åŸŸåæä¾›ä¸Šé‚£è¾¹è¿›è¡ŒCNAME<br><img src="https://upload.bz1.me/ali.png" alt=""><br>7.è¿›å…¥å¯¹åº”çš„bucketï¼Œé€‰æ‹©é•œåƒå­˜å‚¨<br><img src="https://upload.bz1.me/kongjianjingxiang.png" alt=""><br>8.é•œåƒæºå¡«å†™æ‚¨çš„æºç«™åŸŸå test.xxx.com<br><img src="https://upload.bz1.me/ddserwef.png" alt=""><br>é…ç½®å®Œæ¯•ï¼Œé€šè¿‡www.xxx.comä¾¿å¯è®¿é—®æ‚¨çš„æºç«™ï¼ˆæœåŠ¡å™¨ï¼‰</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;a href=&quot;#é—®é¢˜æè¿°&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜æè¿°&quot;&gt;&lt;/a&gt;é—®é¢˜æè¿°&lt;/h2&gt;&lt;p&gt;å‡å¦‚ç”¨æˆ·çš„ä¸»é¡µä¸ºwww.xxx.comï¼Œä¸ºäº†ä½¿ç”¨CDNåŠ é€Ÿï¼Œåœ¨ä¸ƒç‰›ä¹Ÿç»‘å®šäº†åŠ é€ŸåŸŸåä¸ºwww.xxx.comï¼Œç»‘å®šå¥½äº†ä¹‹åï¼Œä¸ƒç‰›è¿”å›ç»™ç”¨æˆ·ä¸€ä¸ªCNAMEçš„åœ°å€ï¼Œæ­¤æ—¶ç”¨æˆ·å»åŸŸåæä¾›å•†é‚£è¾¹å»é…ç½®CNAMEï¼Œç„¶åæç¤º â€œCNAMEè®°å½•ä¸ä¸»æœºè®°å½•çš„Aè®°å½•å†²çªï¼Œæ— æ³•ä¿å­˜æˆåŠŸâ€&lt;br&gt;&lt;img src=&quot;https://upload.bz1.me/cnameå†²çª.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;é—®é¢˜åŸå› &quot;&gt;&lt;a href=&quot;#é—®é¢˜åŸå› &quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜åŸå› &quot;&gt;&lt;/a&gt;é—®é¢˜åŸå› &lt;/h2&gt;&lt;p&gt;Aè®°å½•å°±æ˜¯æŠŠä¸€ä¸ªåŸŸåè§£æåˆ°ä¸€ä¸ªIPåœ°å€ï¼ˆAddressï¼Œç‰¹åˆ¶æ•°å­—IPåœ°å€ï¼‰ï¼Œè€ŒCNAMEè®°å½•å°±æ˜¯æŠŠåŸŸåè§£æåˆ°å¦å¤–ä¸€ä¸ªåŸŸåã€‚å…¶åŠŸèƒ½æ˜¯å·®ä¸å¤šï¼ŒCNAMEå°†å‡ ä¸ªä¸»æœºåæŒ‡å‘ä¸€ä¸ªåˆ«åï¼Œå…¶å®è·ŸæŒ‡å‘IPåœ°å€æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™ä¸ªåˆ«åä¹Ÿè¦åšä¸€ä¸ªAè®°å½•çš„ã€‚&lt;br&gt;&lt;strong&gt;è¿™ä¸¤ä¸ªéƒ½æ˜¯å°†æ‚¨çš„å½“å‰åŸŸåï¼ˆwww.xxx.comï¼‰å»è§£æåˆ°ä¸€ä¸ªIPæˆ–è€…ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå½“è®¿é—®æ‚¨å½“å‰åŸŸåçš„æ—¶å€™ä¼šè§£æè¿‡å»ï¼Œä½†æ˜¯ä¸€ä¸ªåŸŸåä¸å¯ä»¥è§£æåˆ°ä¸¤ä¸ªæœåŠ¡å™¨ã€‚&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="CDN" scheme="https://www.bz1.me/tags/CDN/"/>
    
      <category term="qiniu" scheme="https://www.bz1.me/tags/qiniu/"/>
    
  </entry>
  
  <entry>
    <title>RTMPå¯ä»¥æ’­æ”¾ï¼Œä½†æ˜¯HLSä¸å¯ä»¥æ’­æ”¾</title>
    <link href="https://www.bz1.me/hlscannotplay.html"/>
    <id>https://www.bz1.me/hlscannotplay.html</id>
    <published>2016-07-14T03:32:20.000Z</published>
    <updated>2016-12-18T02:47:30.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>é—®é¢˜æè¿°</strong>ï¼šåœ¨ä¸ƒç‰›äº‘å¼€é€šäº†ç›´æ’­æœåŠ¡ï¼Œåˆ›å»ºäº†ç›´æ’­ç©ºé—´ï¼Œä¹Ÿè¿›è¡Œäº†CNAMEï¼Œåœ¨ä½¿ç”¨ä¸ƒç‰›çš„æä¾›çš„rtmpæ¨æµåœ°å€æ¨æµæ—¶ï¼Œåœ¨æ‹‰æµæ’­æ”¾æ—¶å€™ï¼Œå‘ç°RTMPæ’­æ”¾åŸŸåå¯ä»¥æ’­æ”¾ï¼Œä½†æ˜¯HLSå´æ— æ³•æ’­æ”¾ã€‚</p>
<p><strong>é—®é¢˜åŸå› </strong>ï¼šè¿™æ ·çš„æŠ¥é”™åŸå› åŸºæœ¬ä¸ºä»¥ä¸‹ä¸‰ç§ä¹‹ä¸€<br><strong>åŸå› ä¸€ï¼š</strong>æ£€æŸ¥ä¸€ä¸‹æ¨æµåœ°å€æ˜¯å¦å¡«å†™çš„æ˜¯RTMPçš„æ’­æ”¾åœ°å€ï¼Œå¯¼è‡´RTMPå¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œä½†æ˜¯HLSä¸èƒ½ï¼Œåå°ä¹ŸæŸ¥ä¸åˆ°æœ‰æ¨æµä¸Šæ¥ã€‚</p>
<a id="more"></a>
<p><strong>åŸå› äºŒï¼š</strong>ç¼–ç åŸå› ï¼Œå½“ç”¨æˆ·æ¨é€çš„æµä¸æ˜¯h264 + acc/mp3 çš„è§†é¢‘ + éŸ³é¢‘ç¼–ç æ ¼å¼çš„æ—¶å€™ï¼Œrtmp/hdlå¯èƒ½ä¼šå¯ä»¥æ’­æ”¾ï¼Œä½†æ˜¯hlsæ’­æ”¾ä¸äº†å› ä¸ºä¸æ˜¯h264 + acc/mp3 çš„è¯ï¼Œä¸ä¼šè§¦å‘åˆ‡ç‰‡ï¼Œå³æ²¡æœ‰tsæ–‡ä»¶ç”Ÿæˆï¼Œæ‰€ä»¥hls å’Œå›æ”¾ç‚¹æ’­éƒ½ç”¨ä¸äº†å¯ä»¥è°ƒç”¨ ffplayæ¥æ’­æ”¾ rtmp/hdl æ¥è§‚çœ‹è§†é¢‘çš„ç¼–ç æ ¼å¼</p>
<p><strong>åŸå› ä¸‰ï¼š</strong>æŸ¥çœ‹ä¸€ä¸‹mediaåŸŸåçš„CNAMEé…ç½®ï¼Œçœ‹ä¸‹æ˜¯å¦é…ç½®é”™è¯¯æˆ–è€…æ²¡æœ‰é…ç½®ã€‚åˆ‡ç‰‡æœåŠ¡æœ‰é—®é¢˜ã€‚</p>
<p><strong>åŸå› å››ï¼š</strong>crossdomain.xml ç¼ºå¤±åœ¨ç›´æ’­å¯¹åº”ç©ºé—´é‡Œé¢</p>
<p><strong>åŸå› äº”ï¼š</strong> tsæ–‡ä»¶å¯¹åº”åŸŸåæ²¡æœ‰å–æ¶ˆ302è·³è½¬</p>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼š<br><strong>ä¸€ï¼š</strong>ä½¿ç”¨è¯¥åœ°å€è¿›è¡Œæ¨æµã€‚</p>
<p><img src="https://upload.bz1.me/blob.png" alt=""></p>
<p>äºŒï¼šå¯¹è§†é¢‘è¿›è¡Œè½¬ç ï¼Œè½¬æˆh264 + acc/mp3 çš„è§†é¢‘ + éŸ³é¢‘ç¼–ç æ ¼å¼ç„¶åå†æ¨ï¼Œè½¬ç æ¥å£å‚è€ƒï¼š<a href="http://developer.qiniu.com/code/v6/api/dora-api/av/avthumb.html" target="_blank" rel="external">http://developer.qiniu.com/code/v6/api/dora-api/av/avthumb.html</a></p>
<p><strong>ä¸‰ï¼š</strong>digä¸€ä¸‹mediaçš„åŸŸåCNAMEï¼Œæ£€æŸ¥åˆ°è¯¥åŸŸåæ˜¯å¦è¿›è¡Œäº†æ­£ç¡®çš„CNAMEã€‚</p>
<p><img src="https://upload.bz1.me/media.png" alt="dd"></p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">~ Â» dig +short pili-media<span class="selector-class">.live</span><span class="selector-class">.bz1</span><span class="selector-class">.me</span>                           </div><div class="line"><span class="number">1000117</span><span class="selector-class">.media</span><span class="selector-class">.z1</span><span class="selector-class">.pili</span><span class="selector-class">.qiniudns</span><span class="selector-class">.com</span>.</div><div class="line">wsall<span class="selector-class">.qiniu</span><span class="selector-class">.hls</span><span class="selector-class">.wscdns</span><span class="selector-class">.com</span>.</div><div class="line">qiniu<span class="selector-class">.livevideo</span><span class="selector-class">.ourwebat</span><span class="selector-class">.com</span>.</div><div class="line"><span class="number">118.212</span>.<span class="number">138.191</span></div></pre></td></tr></table></figure>
<p><strong>å››ï¼š</strong>ä¸Šä¼ è¯¥crossdomain.xml æ”¾å…¥ç›´æ’­ç©ºé—´ <a href="http://kb-static.qiniucdn.com/crossdomain.xml?attname=" target="_blank" rel="external">ç‚¹æˆ‘ä¸‹è½½</a> </p>
<p><strong>äº”ï¼š</strong>æäº¤å·¥å•æä¾›ä¸€ä¸‹mediaçš„åŸŸåï¼Œå–æ¶ˆ302</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;é—®é¢˜æè¿°&lt;/strong&gt;ï¼šåœ¨ä¸ƒç‰›äº‘å¼€é€šäº†ç›´æ’­æœåŠ¡ï¼Œåˆ›å»ºäº†ç›´æ’­ç©ºé—´ï¼Œä¹Ÿè¿›è¡Œäº†CNAMEï¼Œåœ¨ä½¿ç”¨ä¸ƒç‰›çš„æä¾›çš„rtmpæ¨æµåœ°å€æ¨æµæ—¶ï¼Œåœ¨æ‹‰æµæ’­æ”¾æ—¶å€™ï¼Œå‘ç°RTMPæ’­æ”¾åŸŸåå¯ä»¥æ’­æ”¾ï¼Œä½†æ˜¯HLSå´æ— æ³•æ’­æ”¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜åŸå› &lt;/strong&gt;ï¼šè¿™æ ·çš„æŠ¥é”™åŸå› åŸºæœ¬ä¸ºä»¥ä¸‹ä¸‰ç§ä¹‹ä¸€&lt;br&gt;&lt;strong&gt;åŸå› ä¸€ï¼š&lt;/strong&gt;æ£€æŸ¥ä¸€ä¸‹æ¨æµåœ°å€æ˜¯å¦å¡«å†™çš„æ˜¯RTMPçš„æ’­æ”¾åœ°å€ï¼Œå¯¼è‡´RTMPå¯ä»¥æ­£å¸¸æ’­æ”¾ï¼Œä½†æ˜¯HLSä¸èƒ½ï¼Œåå°ä¹ŸæŸ¥ä¸åˆ°æœ‰æ¨æµä¸Šæ¥ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="qiniu" scheme="https://www.bz1.me/categories/qiniu/"/>
    
    
      <category term="pili" scheme="https://www.bz1.me/tags/pili/"/>
    
      <category term="docs" scheme="https://www.bz1.me/tags/docs/"/>
    
  </entry>
  
</feed>
